                      (../software/monit):00001             PRAGMA CD
                      (../software/monit):00002         
                      (../software/monit):00003         ;__MONITOR_________________________________________________________________________________________
                      (../software/monit):00004         ;
                      (../software/monit):00005         ;       MINI ROM MONITOR FOR THE NHYODYNE 6809 PROCESSOR
                      (../software/monit):00006         ;
                      (../software/monit):00007         ;       WRITTEN BY: DAN WERNER -- 8/2/2022
                      (../software/monit):00008         ;       based on the ROM by Andrew Lynch
                      (../software/monit):00009         ;
                      (../software/monit):00010         ;___________________________________________________________________________________________________
                      (../software/monit):00011         ;
                      (../software/monit):00012         ; DATA CONSTANTS
                      (../software/monit):00013         ;___________________________________________________________________________________________________
                      (../software/monit):00014         ;
                      (../software/monit):00015         
     C000             (../software/monit):00016         STACK                   EQU     $C000           ; STACK POINTER
                      (../software/monit):00017         
                      (../software/monit):00018         ; UART 16C550 SERIAL
     FE68             (../software/monit):00019         UART0           equ     $FE68           ; DATA IN/OUT
     FE69             (../software/monit):00020         UART1           equ     $FE69           ; CHECK RX
     FE6A             (../software/monit):00021         UART2           equ     $FE6A           ; INTERRUPTS
     FE6B             (../software/monit):00022         UART3           equ     $FE6B           ; LINE CONTROL
     FE6C             (../software/monit):00023         UART4           equ     $FE6C           ; MODEM CONTROL
     FE6D             (../software/monit):00024         UART5           equ     $FE6D           ; LINE STATUS
     FE6E             (../software/monit):00025         UART6           equ     $FE6E           ; MODEM STATUS
     FE6F             (../software/monit):00026         UART7           equ     $FE6F           ; SCRATCH REG.
                      (../software/monit):00027         
                      (../software/monit):00028         
                      (../software/monit):00029                       ORG       $EFE0
EFE0 F3               (../software/monit):00030                         FCB             $F3                             ;DI - DISABLE INTERRUPTS
EFE1 010010           (../software/monit):00031                         FCB             $01,$00,$10             ;LD     BC,$1000 -BYTES TO MOVE
EFE4 110070           (../software/monit):00032                         FCB             $11,$00,$70             ;LD     DE,$7000 -DESTINATION ADDRESS (6809 IS !A15)
EFE7 212001           (../software/monit):00033                         FCB             $21,$20,$01             ;LD     HL,$0120 -SOURCE ADDRESS
EFEA EDB0             (../software/monit):00034                         FCB             $ED,$B0                 ;LDIR            -COPY RAM
EFEC DBFE             (../software/monit):00035                         FCB             $DB,$FE                 ;IN     A,$FF    -ENABLE 6809
EFEE 0E00             (../software/monit):00036                         FCB             $0E,$00                 ;LD     C,00H    -CP/M SYSTEM RESET CALL
EFF0 CD0500           (../software/monit):00037                         FCB             $CD,$05,$00                     ;CALL   0005H    -RETURN TO PROMPT
                      (../software/monit):00038         ;
                      (../software/monit):00039         ;
                      (../software/monit):00040         ;
                      (../software/monit):00041         
                      (../software/monit):00042                 ORG     $FC00
                      (../software/monit):00043         
                      (../software/monit):00044         
                      (../software/monit):00045         ;___________________________________________________________________________________________________
                      (../software/monit):00046         ;
                      (../software/monit):00047         ;       INITIALIZE 6809
                      (../software/monit):00048         ;___________________________________________________________________________________________________
FC00                  (../software/monit):00049         MAIN:
FC00 10CEC000         (../software/monit):00050 [4]             LDS     #STACK                  ; RESET STACK POINTER
FC04 4F               (../software/monit):00051 [2]             CLRA                            ; set direct page register to 0
FC05 1F8B             (../software/monit):00052 [6]             TFR     A,DP                    ;
                      (../software/monit):00053         
                      (../software/monit):00054         
FC07 4F               (../software/monit):00055 [2]             CLRA                            ; CLEAR ACCUMULATOR A
FC08 BDFD8C           (../software/monit):00056 [8]             JSR     SERIALINIT              ; INIT SERIAL PORT
                      (../software/monit):00057         
                      (../software/monit):00058         ;__CONTRL_________________________________________________________________________________________
                      (../software/monit):00059         ;
                      (../software/monit):00060         ;       MONITOR MAIN LOOP
                      (../software/monit):00061         ;__________________________________________________________________________________________________
FC0B                  (../software/monit):00062         CONTRL:
FC0B BDFD81           (../software/monit):00063 [8]             JSR         DISPLAY_CRLF                ; DISPLAY CRLF
FC0E 863E             (../software/monit):00064 [2]             LDA     #'>'                    ; CARRIAGE RETURN
FC10 BDFD8D           (../software/monit):00065 [8]             JSR         WRSER1                      ; OUTPUT CHARACTER
FC13 BDFD9E           (../software/monit):00066 [8]             JSR         IOF_CONINW          ;
FC16 BDFD8D           (../software/monit):00067 [8]             JSR         WRSER1                      ; OUTPUT CHAR TO CONSOLE
                      (../software/monit):00068                                                         ;
FC19 8144             (../software/monit):00069 [2]             CMPA    #'D'                    ; IS DUMP MEMORY?
FC1B 271E             (../software/monit):00070 [3]             BEQ         DUMP                        ;
FC1D 814C             (../software/monit):00071 [2]             CMPA    #'L'                    ; IS LOAD?
FC1F 2717             (../software/monit):00072 [3]             BEQ         MLOAD                       ; YES, JUMP
FC21 814D             (../software/monit):00073 [2]             CMPA    #'M'                    ; IS CHANGE?
FC23 273F             (../software/monit):00074 [3]             BEQ         CHANGE                      ; YES, JUMP
FC25 8150             (../software/monit):00075 [2]             CMPA    #'P'                    ; IS PRINT?
FC27 2752             (../software/monit):00076 [3]             BEQ         PRINT                       ; YES, JUMP
FC29 8147             (../software/monit):00077 [2]             CMPA    #'G'                    ; IS GO?
FC2B 272C             (../software/monit):00078 [3]             BEQ         GO                  ; YES JUMP
                      (../software/monit):00079                                                         ;
                      (../software/monit):00080                                                         ; COMMAND NOT FOUND ISSUE ERROR
FC2D 863F             (../software/monit):00081 [2]             LDA     #'?'                    ; PRINT '?'
FC2F BDFD8D           (../software/monit):00082 [8]             JSR         WRSER1                      ; OUTPUT CHARACTER
FC32 BDFD81           (../software/monit):00083 [8]             JSR         DISPLAY_CRLF        ; DISPLAY CRLF
FC35 7EFC0B           (../software/monit):00084 [4]             JMP         CONTRL                      ; RECEIVE NEXT CHARACTER
                      (../software/monit):00085         
FC38                  (../software/monit):00086         MLOAD:
FC38 7EFC8D           (../software/monit):00087 [4]             JMP         LOAD
                      (../software/monit):00088         
                      (../software/monit):00089         
FC3B                  (../software/monit):00090         DUMP:
FC3B BDFD7C           (../software/monit):00091 [8]             JSR     OUTS                    ;
FC3E BDFD1E           (../software/monit):00092 [8]             JSR         BADDR                       ;
FC41 3410             (../software/monit):00093 [5+2]           PSHS    X                           ;
FC43 BDFD7C           (../software/monit):00094 [8]             JSR         OUTS                        ;
FC46 BDFD1E           (../software/monit):00095 [8]             JSR         BADDR                       ;
FC49 3510             (../software/monit):00096 [5+2]           PULS    X                       ;
FC4B BDFD81           (../software/monit):00097 [8]             JSR         DISPLAY_CRLF    ;
FC4E                  (../software/monit):00098         DUMP_LOOP:
FC4E BDFCC7           (../software/monit):00099 [8]             JSR         DUMP_LINE           ;
FC51 BCFDAF           (../software/monit):00100 [7]             CMPX    XHI                     ;
FC54 2BF8             (../software/monit):00101 [3]             BMI         DUMP_LOOP           ;
FC56 7EFC0B           (../software/monit):00102 [4]             JMP         CONTRL                      ; RECEIVE NEXT CHARACTER
                      (../software/monit):00103         
                      (../software/monit):00104         
FC59                  (../software/monit):00105         GO:
FC59 BDFD1E           (../software/monit):00106 [8]             JSR         BADDR                       ; GET ADDRESS
FC5C BDFD7C           (../software/monit):00107 [8]             JSR         OUTS                        ; PRINT SPACE
FC5F BEFDAF           (../software/monit):00108 [6]             LDX         XHI                         ; LOAD X WITH ADDRESS
FC62 6E84             (../software/monit):00109 [3+0]           JMP         $0000,X                     ; JUMP TO ADDRESS
                      (../software/monit):00110         
                      (../software/monit):00111         ; CHANGE MEMORY(M AAAA DD NN)
FC64                  (../software/monit):00112         CHANGE:
FC64 BDFD1E           (../software/monit):00113 [8]             JSR         BADDR                       ; BUILD ADDRESS
FC67 BDFD7C           (../software/monit):00114 [8]             JSR         OUTS                        ; PRINT SPACE
FC6A BDFD7A           (../software/monit):00115 [8]             JSR         OUT2HS                      ;
FC6D BDFD2C           (../software/monit):00116 [8]             JSR         BYTE                        ;
FC70 301F             (../software/monit):00117 [4+1]           LEAX    -1,X                    ;
FC72 A784             (../software/monit):00118 [4+0]           STA     ,X                      ;
FC74 A184             (../software/monit):00119 [4+0]           CMPA    ,X                      ;
FC76 2647             (../software/monit):00120 [3]             BNE         LOAD19                      ; MEMORY DID NOT CHANGE
FC78 7EFC0B           (../software/monit):00121 [4]             JMP         CONTRL                      ;
                      (../software/monit):00122         
                      (../software/monit):00123         ; PRINT CONTENTS OF STACK
FC7B                  (../software/monit):00124         PRINT:
FC7B 10FFFDAB         (../software/monit):00125 [7]             STS         SP                          ;
FC7F BEFDAB           (../software/monit):00126 [6]             LDX         SP                  ;
FC82 C609             (../software/monit):00127 [2]             LDB         #$09                        ;
FC84                  (../software/monit):00128         PRINT2:                                 ;
FC84 BDFD7A           (../software/monit):00129 [8]             JSR         OUT2HS                      ; OUT 2 HEX & SPACE
FC87 5A               (../software/monit):00130 [2]             DECB                            ;
FC88 26FA             (../software/monit):00131 [3]             BNE         PRINT2                  ; DONE? IF NO DO MORE
FC8A 7EFC0B           (../software/monit):00132 [4]             JMP         CONTRL                  ; DONE? IF YES RETURN TO MAIN LOOP
                      (../software/monit):00133         
                      (../software/monit):00134         
FC8D                  (../software/monit):00135         LOAD:
                      (../software/monit):00136         
FC8D                  (../software/monit):00137         LOAD3:
FC8D BDFD9E           (../software/monit):00138 [8]             JSR         IOF_CONINW
FC90 8153             (../software/monit):00139 [2]             CMPA    #'S'
FC92 26F9             (../software/monit):00140 [3]             BNE         LOAD3               ; FIRST CHAR NOT (S)
FC94 BDFD9E           (../software/monit):00141 [8]             JSR         IOF_CONINW          ; READ CHAR
FC97 8139             (../software/monit):00142 [2]             CMPA    #'9'
FC99 2729             (../software/monit):00143 [3]             BEQ         LOAD21
FC9B 8131             (../software/monit):00144 [2]             CMPA    #'1'
FC9D 26EE             (../software/monit):00145 [3]             BNE         LOAD3               ; SECOND CHAR NOT (1)
FC9F 7FFDAD           (../software/monit):00146 [7]             CLR         CKSM                ; ZERO CHECKSUM
FCA2 BDFD2C           (../software/monit):00147 [8]             JSR         BYTE                ; READ BYTE
FCA5 8002             (../software/monit):00148 [2]             SUBA    #$02
FCA7 B7FDAE           (../software/monit):00149 [5]             STA         BYTECT              ; BYTE COUNT
                      (../software/monit):00150         ; BUILD ADDRESS
FCAA 8D72             (../software/monit):00151 [7]             BSR         BADDR
                      (../software/monit):00152         ; STORE DATA
FCAC                  (../software/monit):00153         LOAD11:
FCAC BDFD2C           (../software/monit):00154 [8]             JSR         BYTE
FCAF 7AFDAE           (../software/monit):00155 [7]             DEC         BYTECT
FCB2 2706             (../software/monit):00156 [3]             BEQ         LOAD15              ; ZERO BYTE COUNT
FCB4 A784             (../software/monit):00157 [4+0]           STA     ,X                      ; STORE DATA
FCB6 3001             (../software/monit):00158 [4+1]           LEAX    1,X
FCB8 20F2             (../software/monit):00159 [3]             BRA         LOAD11
                      (../software/monit):00160         
FCBA                  (../software/monit):00161         LOAD15:
FCBA 7CFDAD           (../software/monit):00162 [7]             INC         CKSM
FCBD 27CE             (../software/monit):00163 [3]             BEQ         LOAD3
FCBF                  (../software/monit):00164         LOAD19:
FCBF 863F             (../software/monit):00165 [2]             LDA         #'?'
FCC1 BDFD8D           (../software/monit):00166 [8]             JSR         WRSER1
FCC4                  (../software/monit):00167         LOAD21:
FCC4 7EFC0B           (../software/monit):00168 [4]     C1      JMP         CONTRL
                      (../software/monit):00169         
                      (../software/monit):00170         
                      (../software/monit):00171         
FCC7                  (../software/monit):00172         DUMP_LINE:
FCC7 BDFD63           (../software/monit):00173 [8]             JSR         OUTADDR                     ;
FCCA BDFD7C           (../software/monit):00174 [8]             JSR         OUTS                        ;
FCCD 3410             (../software/monit):00175 [5+2]           PSHS    X                       ;
FCCF C610             (../software/monit):00176 [2]             LDB         #$10                        ;
FCD1                  (../software/monit):00177         DUMP_LINE_LOOP:
FCD1 BDFD7A           (../software/monit):00178 [8]             JSR         OUT2HS                      ; OUT 2 HEX & SPACE
FCD4 5A               (../software/monit):00179 [2]             DECB                            ;
FCD5 26FA             (../software/monit):00180 [3]             BNE         DUMP_LINE_LOOP      ; DONE? IF NO DO MORE
FCD7 3510             (../software/monit):00181 [5+2]           PULS    X                           ;
FCD9 BDFD7C           (../software/monit):00182 [8]             JSR         OUTS                        ;
FCDC 863A             (../software/monit):00183 [2]             LDA         #':'                        ;
FCDE BDFD8D           (../software/monit):00184 [8]             JSR         WRSER1                      ;
FCE1 C610             (../software/monit):00185 [2]             LDB         #$10                        ;
FCE3                  (../software/monit):00186         DUMP_LINE_LOOPA:
FCE3 A600             (../software/monit):00187 [4+1]           LDA         0,X                 ;
FCE5 8120             (../software/monit):00188 [2]             CMPA    #32                     ;
FCE7 2B0A             (../software/monit):00189 [3]             BMI         DUMP_LINE_INVALID
FCE9 817F             (../software/monit):00190 [2]             CMPA    #127                    ;
FCEB 2A06             (../software/monit):00191 [3]             BPL         DUMP_LINE_INVALID
FCED BDFD8D           (../software/monit):00192 [8]             JSR         WRSER1                      ;
FCF0 7EFCF8           (../software/monit):00193 [4]             JMP         DUMP_LINE_VALID
FCF3                  (../software/monit):00194         DUMP_LINE_INVALID:                      ;
FCF3 862E             (../software/monit):00195 [2]             LDA         #'.'                        ;
FCF5 BDFD8D           (../software/monit):00196 [8]             JSR         WRSER1                      ;
FCF8                  (../software/monit):00197         DUMP_LINE_VALID:                        ;
FCF8 3001             (../software/monit):00198 [4+1]           LEAX    1,X                     ;
FCFA 5A               (../software/monit):00199 [2]             DECB                            ;
FCFB 26E6             (../software/monit):00200 [3]             BNE         DUMP_LINE_LOOPA     ; DONE? IF NO DO MORE
FCFD BDFD81           (../software/monit):00201 [8]             JSR         DISPLAY_CRLF        ;
FD00 39               (../software/monit):00202 [5]             RTS
                      (../software/monit):00203         
                      (../software/monit):00204         ; INPUT HEX CHAR
FD01                  (../software/monit):00205         INHEX:
FD01 BDFD9E           (../software/monit):00206 [8]             JSR         IOF_CONINW          ;
FD04 3402             (../software/monit):00207 [5+1]           PSHS    A                       ;
FD06 BDFD8D           (../software/monit):00208 [8]             JSR         WRSER1                      ;
FD09 3502             (../software/monit):00209 [5+1]           PULS    A                       ;
FD0B 8130             (../software/monit):00210 [2]             CMPA    #$30                    ;
FD0D 2BB5             (../software/monit):00211 [3]             BMI         C1                          ; NOT HEX
FD0F 8139             (../software/monit):00212 [2]             CMPA    #$39                    ;
FD11 2F0A             (../software/monit):00213 [3]             BLE         IN1HG                       ;
FD13 8141             (../software/monit):00214 [2]             CMPA    #$41                    ;
FD15 2BAD             (../software/monit):00215 [3]             BMI         C1                  ; NOT HEX
FD17 8146             (../software/monit):00216 [2]             CMPA    #$46                    ;
FD19 2EA9             (../software/monit):00217 [3]             BGT         C1                      ; NOT HEX
FD1B 8007             (../software/monit):00218 [2]             SUBA    #$07                    ;
FD1D                  (../software/monit):00219         IN1HG:                                  ;
FD1D 39               (../software/monit):00220 [5]             RTS                                     ;
                      (../software/monit):00221         
                      (../software/monit):00222         ; BUILD ADDRESS
FD1E                  (../software/monit):00223         BADDR:
FD1E 8D0C             (../software/monit):00224 [7]             BSR         BYTE                ; READ 2 FRAMES
FD20 B7FDAF           (../software/monit):00225 [5]             STA     XHI
FD23 8D07             (../software/monit):00226 [7]             BSR         BYTE
FD25 B7FDB0           (../software/monit):00227 [5]             STA     XLOW
FD28 BEFDAF           (../software/monit):00228 [6]             LDX         XHI                 ; (X) ADDRESS WE BUILT
FD2B 39               (../software/monit):00229 [5]             RTS
                      (../software/monit):00230         
                      (../software/monit):00231         ; INPUT BYTE (TWO FRAMES)
FD2C                  (../software/monit):00232         BYTE:
FD2C 8DD3             (../software/monit):00233 [7]             BSR         INHEX                   ; GET HEX CHAR
FD2E 48               (../software/monit):00234 [2]             ASLA
FD2F 48               (../software/monit):00235 [2]             ASLA
FD30 48               (../software/monit):00236 [2]             ASLA
FD31 48               (../software/monit):00237 [2]             ASLA
FD32 1F89             (../software/monit):00238 [6]             TFR     A,B         ; TAB
FD34 4D               (../software/monit):00239 [2]         TSTA                ; TAB
FD35 8DCA             (../software/monit):00240 [7]             BSR         INHEX
FD37 840F             (../software/monit):00241 [2]             ANDA    #$0F                    ; MASK TO 4 BITS
FD39 3404             (../software/monit):00242 [5+1]           PSHS    B           ; ABA
FD3B ABE0             (../software/monit):00243 [4+2]       ADDA    ,S+         ; ABA
FD3D 1F89             (../software/monit):00244 [6]             TFR     A,B         ; TAB
FD3F 4D               (../software/monit):00245 [2]         TSTA                ; TAB
FD40 FBFDAD           (../software/monit):00246 [5]             ADDB    CKSM
FD43 F7FDAD           (../software/monit):00247 [5]             STB     CKSM
FD46 39               (../software/monit):00248 [5]             RTS
                      (../software/monit):00249         
                      (../software/monit):00250         
                      (../software/monit):00251         
FD47                  (../software/monit):00252         OUTHL:
FD47 44               (../software/monit):00253 [2]             LSRA                            ; OUT HEX LEFT BCD DIGIT
FD48 44               (../software/monit):00254 [2]             LSRA                            ;
FD49 44               (../software/monit):00255 [2]             LSRA                            ;
FD4A 44               (../software/monit):00256 [2]             LSRA                            ;
                      (../software/monit):00257         
FD4B                  (../software/monit):00258         OUTHR:                                  ;
FD4B 840F             (../software/monit):00259 [2]             ANDA    #$0F                ; OUT HEC RIGHT DIGIT
FD4D 8B30             (../software/monit):00260 [2]             ADDA    #$30            ;
FD4F 8139             (../software/monit):00261 [2]             CMPA    #$39            ;
FD51 2302             (../software/monit):00262 [3]             BLS         OUTHR1              ;
FD53 8B07             (../software/monit):00263 [2]             ADDA    #$07                ;
FD55                  (../software/monit):00264         OUTHR1:
FD55 7EFD8D           (../software/monit):00265 [4]             JMP         WRSER1              ;
                      (../software/monit):00266         
FD58                  (../software/monit):00267         OUT2H:
FD58 A600             (../software/monit):00268 [4+1]           LDA     0,X                     ; OUTPUT 2 HEX CHAR
FD5A 8DEB             (../software/monit):00269 [7]             BSR         OUTHL               ; OUT LEFT HEX CHAR
FD5C A600             (../software/monit):00270 [4+1]           LDA     0,X                     ;
FD5E 8DEB             (../software/monit):00271 [7]             BSR         OUTHR               ; OUT RIGHT HEX CHAR
FD60 3001             (../software/monit):00272 [4+1]           LEAX    1,X
FD62 39               (../software/monit):00273 [5]             RTS
                      (../software/monit):00274         
FD63                  (../software/monit):00275         OUTADDR:
FD63 3410             (../software/monit):00276 [5+2]           PSHS    X                       ;
FD65 3502             (../software/monit):00277 [5+1]           PULS    A                       ;
FD67 3402             (../software/monit):00278 [5+1]           PSHS    A                       ;
FD69 8DDC             (../software/monit):00279 [7]             BSR         OUTHL               ; OUT LEFT HEX CHAR
FD6B 3502             (../software/monit):00280 [5+1]           PULS    A                       ;
FD6D 8DDC             (../software/monit):00281 [7]             BSR         OUTHR               ; OUT RIGHT HEX CHAR
FD6F 3502             (../software/monit):00282 [5+1]           PULS    A                       ;
FD71 3402             (../software/monit):00283 [5+1]           PSHS    A                       ;
FD73 8DD2             (../software/monit):00284 [7]             BSR         OUTHL               ; OUT LEFT HEX CHAR
FD75 3502             (../software/monit):00285 [5+1]           PULS    A                       ;
FD77 8DD2             (../software/monit):00286 [7]             BSR         OUTHR               ; OUT RIGHT HEX CHAR
FD79 39               (../software/monit):00287 [5]             RTS
                      (../software/monit):00288         
FD7A                  (../software/monit):00289         OUT2HS:
FD7A 8DDC             (../software/monit):00290 [7]             BSR         OUT2H               ; OUTPUT 2 HEX CHAR + SPACE
FD7C                  (../software/monit):00291         OUTS:
FD7C 8620             (../software/monit):00292 [2]             LDA         #$20                ; SPACE
FD7E 7EFD8D           (../software/monit):00293 [4]             JMP         WRSER1              ;
                      (../software/monit):00294         
                      (../software/monit):00295         
                      (../software/monit):00296         
                      (../software/monit):00297         ;__________________________________________________________________________________________________________
                      (../software/monit):00298         
FD81                  (../software/monit):00299         DISPLAY_CRLF:
FD81 860D             (../software/monit):00300 [2]             LDA     #$0D                    ; PRINT CR
FD83 BDFD8D           (../software/monit):00301 [8]             JSR         WRSER1                      ; OUTPUT CHARACTER
FD86 860A             (../software/monit):00302 [2]             LDA     #$0A                    ; PRINT LF
FD88 BDFD8D           (../software/monit):00303 [8]             JSR         WRSER1                      ; OUTPUT CHARACTER
FD8B 39               (../software/monit):00304 [5]             RTS
                      (../software/monit):00305         
FD8C                  (../software/monit):00306         SERIALINIT:
                      (../software/monit):00307                 ;       LDA             #$80            ;
                      (../software/monit):00308                 ;       STA             UART3           ; SET DLAB FLAG
                      (../software/monit):00309                 ;       LDA             #12                     ; SET TO 12 = 9600 BAUD
                      (../software/monit):00310                 ;       STA             UART0           ; save baud rate
                      (../software/monit):00311                 ;       LDA             #00                     ;
                      (../software/monit):00312                 ;       STA             UART1           ;
                      (../software/monit):00313                 ;       LDA             #03                     ;
                      (../software/monit):00314                 ;       STA             UART3           ; SET 8 BIT DATA, 1 STOPBIT
                      (../software/monit):00315                 ;       STA             UART4           ;
FD8C 39               (../software/monit):00316 [5]             RTS
                      (../software/monit):00317         
FD8D                  (../software/monit):00318         WRSER1:
FD8D 3402             (../software/monit):00319 [5+1]           PSHS    A
FD8F                  (../software/monit):00320         TX_BUSYLP:
FD8F B6FE6D           (../software/monit):00321 [5]                     LDA             UART5                   ; READ LINE STATUS REGISTER
FD92 8420             (../software/monit):00322 [2]                     ANDA    #$20                    ; TEST IF UART IS READY TO SEND (BIT 5)
FD94 8100             (../software/monit):00323 [2]                     CMPA    #$00
FD96 27F7             (../software/monit):00324 [3]                     BEQ             TX_BUSYLP               ; IF NOT REPEAT
FD98 3502             (../software/monit):00325 [5+1]           PULS    A
FD9A B7FE68           (../software/monit):00326 [5]                     STA             UART0                   ; THEN WRITE THE CHAR TO UART
FD9D 39               (../software/monit):00327 [5]             RTS
                      (../software/monit):00328         
                      (../software/monit):00329         
FD9E                  (../software/monit):00330         IOF_CONINW:                             ;
FD9E                  (../software/monit):00331         SERIAL_INCHW1:
FD9E B6FE6D           (../software/monit):00332 [5]                     LDA         UART5                       ; READ LINE STATUS REGISTER
FDA1 8401             (../software/monit):00333 [2]                     ANDA    #$01                    ; TEST IF DATA IN RECEIVE BUFFER
FDA3 8100             (../software/monit):00334 [2]                     CMPA    #$00
FDA5 27F7             (../software/monit):00335 [3]                     BEQ         SERIAL_INCHW1       ; LOOP UNTIL DATA IS READY
FDA7 B6FE68           (../software/monit):00336 [5]                     LDA         UART0                       ; THEN READ THE CHAR FROM THE UART
FDAA 39               (../software/monit):00337 [5]                     RTS
                      (../software/monit):00338         
                      (../software/monit):00339         
                      (../software/monit):00340         ; REGISTERS FOR GO
FDAB 0000             (../software/monit):00341         SP          FDB $0000           ; S-HIGH
                      (../software/monit):00342         ; END REGISTERS FOR GO
FDAD 00               (../software/monit):00343         CKSM    FCB     00                      ; CHECKSUM
FDAE 00               (../software/monit):00344         BYTECT  FCB     00                      ; BYTE COUNT
FDAF 00               (../software/monit):00345         XHI         FCB 00                      ; XREG HIGH
FDB0 00               (../software/monit):00346         XLOW    FCB     00                      ; XREG LOW
                      (../software/monit):00347         
                      (../software/monit):00348                 ORG     $FFFE               ; SET RESET VECTOR TO MAIN PROGRAM
                      (../software/monit):00349         
FFFE FC00             (../software/monit):00350         RESETV  FDB         MAIN
                      (../software/monit):00351         
                      (../software/monit):00352                 END

Symbol Table:
[ G] BADDR                            FD1E
[ G] BYTE                             FD2C
[ G] BYTECT                           FDAE
[ G] C1                               FCC4
[ G] CHANGE                           FC64
[ G] CKSM                             FDAD
[ G] CONTRL                           FC0B
[ G] DISPLAY_CRLF                     FD81
[ G] DUMP                             FC3B
[ G] DUMP_LINE                        FCC7
[ G] DUMP_LINE_INVALID                FCF3
[ G] DUMP_LINE_LOOP                   FCD1
[ G] DUMP_LINE_LOOPA                  FCE3
[ G] DUMP_LINE_VALID                  FCF8
[ G] DUMP_LOOP                        FC4E
[ G] GO                               FC59
[ G] IN1HG                            FD1D
[ G] INHEX                            FD01
[ G] IOF_CONINW                       FD9E
[ G] LOAD                             FC8D
[ G] LOAD11                           FCAC
[ G] LOAD15                           FCBA
[ G] LOAD19                           FCBF
[ G] LOAD21                           FCC4
[ G] LOAD3                            FC8D
[ G] MAIN                             FC00
[ G] MLOAD                            FC38
[ G] OUT2H                            FD58
[ G] OUT2HS                           FD7A
[ G] OUTADDR                          FD63
[ G] OUTHL                            FD47
[ G] OUTHR                            FD4B
[ G] OUTHR1                           FD55
[ G] OUTS                             FD7C
[ G] PRINT                            FC7B
[ G] PRINT2                           FC84
[ G] RESETV                           FFFE
[ G] SERIAL_INCHW1                    FD9E
[ G] SERIALINIT                       FD8C
[ G] SP                               FDAB
[ G] STACK                            C000
[ G] TX_BUSYLP                        FD8F
[ G] UART0                            FE68
[ G] UART1                            FE69
[ G] UART2                            FE6A
[ G] UART3                            FE6B
[ G] UART4                            FE6C
[ G] UART5                            FE6D
[ G] UART6                            FE6E
[ G] UART7                            FE6F
[ G] WRSER1                           FD8D
[ G] XHI                              FDAF
[ G] XLOW                             FDB0
