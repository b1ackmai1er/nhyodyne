<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink="#954F72">

<div class=WordSection1>

<div style='border:none;border-bottom:solid #CCCCCC 1.0pt;padding:0in 0in 0in 0in'>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal;border:none;
padding:0in'><span style='font-size:17.5pt;font-family:"Times New Roman",serif;
color:#333333'>Z80 DUALPIO V1</span></p>

</div>

<div style='border:none;border-bottom:solid #CCCCCC 1.0pt;padding:0in 0in 0in 0in;
margin-left:15.0pt;margin-right:0in'>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal;border:none;
padding:0in'><span style='font-size:16.5pt;font-family:"Times New Roman",serif;
color:#333333'>Introduction</span></p>

</div>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The Z80 DUALPIO board
adds Zilog Z80 family peripherals I/O chips to an existing nhyodyne Z80 Modular
Backplane Computer.</span></p>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
text-align:center;line-height:normal;border:none;padding:0in'><span
style='font-size:8.0pt;font-family:"Arial",sans-serif;display:none'>&nbsp;</span></p>

</div>

<div style='border:none;border-bottom:solid #CCCCCC 1.0pt;padding:0in 0in 0in 0in;
margin-left:15.0pt;margin-right:0in'>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal;border:none;
padding:0in'><span style='font-size:16.5pt;font-family:"Times New Roman",serif;
color:#333333'>Specifications</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:59.25pt;margin-bottom:.0001pt;text-indent:-.25in;line-height:18.0pt'><span
style='font-size:10.0pt;font-family:Wingdings;color:#333333'>§<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Four
parallel ports with handshaking using two Z80-PIO</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:59.25pt;margin-bottom:.0001pt;text-indent:-.25in;line-height:18.0pt'><span
style='font-size:10.0pt;font-family:Wingdings;color:#333333'>§<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Daisy
chained priority interrupts for Z80 mode 2 operation</span></p>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
text-align:center;line-height:normal;border:none;padding:0in'><span
style='font-size:8.0pt;font-family:"Arial",sans-serif;display:none'>&nbsp;</span></p>

</div>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:16.5pt;font-family:"Times New Roman",serif;color:#333333'>Acknowledgments</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>This
document is a modified version of the work by Phillip Summers for the ECB Zilog
Peripherals V2 board and can be found at the link below</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-family:"Times New Roman",serif'><a
href="https://www.retrobrewcomputers.org/doku.php?id=boards:ecb:zilog-peripherals:start">boards:ecb:zilog-peripherals:start
[RetroBrew Computers Wiki]</a></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>The
Z80 DUALPIO board is based on a design presented in c't magazine in 1985
“Datenverkehr - Die I/O-Karte fur den ECB-Bus” by Georg Umback. The original
documentation for this project can be seen here:</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-family:"Times New Roman",serif'><a
href="https://www.retrobrewcomputers.org/doku.php?id=boards:ecb:zilog-peripherals:development">boards:ecb:zilog-peripherals:development
[RetroBrew Computers Wiki]</a></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:16.5pt;font-family:"Times New Roman",serif;color:#333333'>Version</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The following
documentation and files describe Z80 DUALPIO V1 which has been manufactured but
not tested as of 20 Dec 2021.</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:16.5pt;font-family:"Times New Roman",serif;color:#333333'>Hardware
Documentation</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#333333'>Schematics, Board Layout,
KiCad Files, PCB Gerber files, and BOM can be found at nhyodyne Github repo in
the Z80DUALPIO1 directory</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><a
href="https://github.com/lynchaj/nhyodyne/tree/main/Z80DUALPIO1">nhyodyne/Z80DUALPIO1
at main · lynchaj/nhyodyne (github.com)</a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Connectors</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:74.25pt;margin-bottom:.0001pt;text-indent:-.25in;line-height:18.0pt'><span
style='font-size:10.0pt;font-family:Wingdings;color:#333333'>§<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>X1 -
PIO1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:74.25pt;margin-bottom:.0001pt;text-indent:-.25in;line-height:18.0pt'><span
style='font-size:10.0pt;font-family:Wingdings;color:#333333'>§<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>X2 -
PIO2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:74.25pt;margin-bottom:.0001pt;line-height:18.0pt'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>&nbsp;</span></p>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;border:none;padding:0in'><span style='font-size:8.0pt;font-family:"Arial",sans-serif;
display:none'>&nbsp;</span></p>

</div>

<div style='border:none;border-bottom:solid #CCCCCC 1.0pt;padding:0in 0in 0in 0in;
margin-left:15.0pt;margin-right:0in'>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal;border:none;
padding:0in'><span style='font-size:16.5pt;font-family:"Times New Roman",serif;
color:#333333'>Hardware Documentation</span></p>

</div>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
text-align:center;line-height:normal;border:none;padding:0in'><span
style='font-size:8.0pt;font-family:"Arial",sans-serif;display:none'>&nbsp;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Board address</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The board occupies
8 I/O addresses. The base address is selected by the DIP switch labeled SW1
near the Z80MBC connector on the lower right hand side. All switches need to be
turned ON or OFF to select the desired address range. However, ON setting
represents a ZERO and an OFF setting is a ONE which is somewhat
counter-intuitive.&nbsp; Recommended default IO address is $B8-$BF</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Chip address</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>Each of the four
I/O chips uses four I/O addresses. In this table 'n' is the board base address.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='background:white;border-collapse:collapse'>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  n8h</span></p>
  </td>
  <td style='border:solid #CCCCCC 1.0pt;border-left:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO1 port A data</span></p>
  </td>
  <td style='border:solid #CCCCCC 1.0pt;border-left:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  on connector X1</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  n9h</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO1 port B data</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  on connector X1</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nAh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO1 port A command</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'></td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nBh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO1 port B command</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'></td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nCh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO2 port A data</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  on connector X2</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nDh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO2 port B data</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  on connector X2</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nEh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO2 port A command</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'></td>
 </tr>
 <tr>
  <td style='border:solid #CCCCCC 1.0pt;border-top:none;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  nFh</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Times New Roman",serif'><br>
  PIO2 port B command</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #CCCCCC 1.0pt;
  border-right:solid #CCCCCC 1.0pt;padding:2.25pt 2.25pt 2.25pt 2.25pt'></td>
 </tr>
</table>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
text-align:center;line-height:normal;border:none;padding:0in'><span
style='font-size:8.0pt;font-family:"Arial",sans-serif;display:none'>&nbsp;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Z80-PIO</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The Z80-PIOs
provide two 8-bit parallel ports each. Each Z80-PIO has its own header with 5v
and GND lines for connecting to the outside world. Note these connectors have a
totally different layout to the PPI connectors on other boards. No jumpers need
to be set to use these Z80-PIOs.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Interrupts</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The /INT pins from
the Z80-PIOs are connected together as a 'wired-OR' gate and buffered for a
common interrupt to the CPU. These pins are open-drain outputs so they can be
connected together. The board is setup for Mode 1 or Mode 2 interrupts. The two
PIO chips are also daisy chained to give priority to the interrupts. The Z80-PIO1
has the highest priority followed by Z80-PIO2. </span></p>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0in 0in 0in'>

<p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
text-align:center;line-height:normal;border:none;padding:0in'><span
style='font-size:8.0pt;font-family:"Arial",sans-serif;display:none'>&nbsp;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Initial Testing</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>For this section I
will assume the base address of the board is B8h</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Testing the Z80-PIOs</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>After reset the
Z80-PIOs will have their ports set to mode 1 (all inputs). Using the monitor to
read the four ports at 0xB8, 0xB9, 0xBC and 0xBD (i.e.I B8) will read the
values on the pins. With nothing connected to headers X1 and X2 my Z80-PIOs
read all zeros. A clip lead from the 5 to any I/O pin will show up as a
different value when the port is read.</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>A
simple register test program is available (base address 0xB8<span
style='color:#436976'> </span></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#436976'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'><a
href="https://www.retrobrewcomputers.org/lib/exe/fetch.php?media=boards:ecb:zilog-peripherals:2piotst.zip">https://www.retrobrewcomputers.org/lib/exe/fetch.php?media=boards:ecb:zilog-peripherals:2piotst.zip</a></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;
margin-left:30.0pt;line-height:normal'><span style='font-size:15.5pt;
font-family:"Times New Roman",serif;color:#333333'>Using the Z80-PIO with a
Centronics printer.</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>The
Z80-PIO has four modes of operation - input, output, bi-directional and bit.
The input and output modes have handshaking pins for each port, the bi-directional
mode (port A only) uses handshaking pins from both ports and bit mode uses no
handshaking pins. For a printer the output mode is used with the port's RDY pin
used as a strobe output and the /STB pin used as an ACK input. However the RDY
signal is too short (and the wrong polarity) for the printer. This signal is
used to trigger a monostable (say a 74LS123) with an active low output pulse
about 0.5mS long. The BUSY signal and other control lines go to/from the other
port in bit mode.<br>
Buffering the data and control lines are needed for long cables. Use a 74LS245
or similar for the data lines, a 74LS07 or similar for the control lines.</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>The abve idea has
been prototyped and may become a future mini-board.</span></p>

</div>

</body>

</html>
