esptest.asm:
     1                          ;________________________________________________________________________________________________________________________________
     2                          ;
     3                          ;	Nhyodyne CP/M ESP IO test program
     4                          ;
     5                          ;  DWERNER 07/1/2023 	Initial
     6                          ;________________________________________________________________________________________________________________________________
     7                          
     8                          BDOS:           EQU $0005       ; BDOS invocation vector
     9                          
    10                          ESP0:           EQU 9CH         ; ESP0 IO PORT
    11                          
    12                          ESP_STATUS:     EQU 9EH         ; ESP  STATUS PORT
    13                                                          ; MSB XX S S S S S S
    14                                                          ;        | | | | | |- ESP0 READY OUTPUT
    15                                                          ;        | | | | |--- ESP0 BUSY
    16                                                          ;        | | | |----- ESP0 SPARE
    17                                                          ;        | | |------- ESP1 READY OUTPUT
    18                                                          ;        | |--------- ESP1 BUSY
    19                                                          ;        |----------- ESP1 SPARE
    20                          ;
    21                          ;
    22                                  ORG     0100H
    23                          
    24   000000 310080                  LD      sp,8000H        ; setup our private stack
    25                          ;
    26                          MENU_PAGE_1:
    27   000003 0e09                    LD      C,9
    28   000005 11af06                  LD      DE,MENU
    29   000008 cd0500                  CALL    BDOS            ; PRINT OPENING MENU
    30                          
    31                          
    32                          MNULOOP:
    33   00000b 0e01                    LD      C,1
    34   00000d cd0500                  CALL    BDOS            ; Get Menu Selection
    35                          
    36                          ; TERMINAL TESTS
    37   000010 fe31                    CP      '1'
    38   000012 caf000                  JP      Z,VGA_SINGLE_CHAR
    39   000015 fe32                    CP      '2'
    40   000017 cafd00                  JP      Z,VGA_100SINGLE_CHAR
    41   00001a fe33                    CP      '3'
    42   00001c ca1001                  JP      Z,VGA_OUT_STRING
    43   00001f fe34                    CP      '4'
    44   000021 ca2601                  JP      Z,GET_KEY_IN
    45   000024 fe35                    CP      '5'
    46   000026 ca3701                  JP      Z,GET_KEY_CHARS_IN_BUFFER
    47   000029 fe36                    CP      '6'
    48   00002b ca4801                  JP      Z,SET_CURSOR
    49                          
    50                          ; SERIAL TESTS
    51   00002e fe37                    CP      '7'
    52   000030 ca6401                  JP      Z,SET_BAUD
    53   000033 fe38                    CP      '8'
    54   000035 caa801                  JP      Z,SET_MODE
    55   000038 fe39                    CP      '9'
    56   00003a cac401                  JP      Z,SERIAL_TX_CHAR
    57   00003d fe41                    CP      'A'
    58   00003f cad101                  JP      Z,SERIAL_TX_STRING
    59   000042 fe42                    CP      'B'
    60   000044 cae701                  JP      Z,GET_SERIAL_IN
    61   000047 fe43                    CP      'C'
    62   000049 caf801                  JP      Z,GET_SERIAL_CHARS_IN_BUFFER
    63                          
    64                          ; SOUND TESTS
    65   00004c fe44                    CP      'D'
    66   00004e ca0902                  JP      Z,PLAY_STRING
    67   000051 fe45                    CP      'E'
    68   000053 ca1f02                  JP      Z,PLAY_SOUND
    69   000056 fe46                    CP      'F'
    70   000058 ca3602                  JP      Z,SET_VOLUME
    71                          
    72                          ; GRAPHICS TESTS
    73   00005b fe47                    CP      'G'
    74   00005d ca4302                  JP      Z,SET_RESOLUTION
    75   000060 fe48                    CP      'H'
    76   000062 ca6d02                  JP      Z,LOAD_FONT
    77   000065 fe49                    CP      'I'
    78   000067 ca9402                  JP      Z,CLEAR_SCREEN
    79   00006a fe4a                    CP      'J'
    80   00006c ca9c02                  JP      Z,COPY_RECT
    81   00006f fe4b                    CP      'K'
    82   000071 cae002                  JP      Z,DRAW_BITMAP
    83   000074 fe4c                    CP      'L'
    84   000076 ca3903                  JP      Z,DRAW_CHAR
    85   000079 fe4d                    CP      'M'
    86   00007b ca5f03                  JP      Z,DRAW_ELLIPSE
    87   00007e fe4e                    CP      'N'
    88   000080 ca8f03                  JP      Z,DRAW_GLYPH
    89   000083 fe4f                    CP      'O'
    90   000085 cae103                  JP      Z,DRAW_LINE
    91   000088 fe50                    CP      'P'
    92   00008a ca1104                  JP      Z,DRAW_RECTANGLE
    93   00008d fe51                    CP      'Q'
    94   00008f ca4104                  JP      Z,DRAW_FILLED_ELLIPSE
    95   000092 fe52                    CP      'R'
    96   000094 ca7104                  JP      Z,DRAW_FILLED_RECTANGLE
    97   000097 fe53                    CP      'S'
    98   000099 caa104                  JP      Z,GET_PIXEL
    99   00009c fe54                    CP      'T'
   100   00009e cad204                  JP      Z,INVERT_RECTANGLE
   101   0000a1 fe55                    CP      'U'
   102   0000a3 ca0205                  JP      Z,LINETO
   103   0000a6 fe56                    CP      'V'
   104   0000a8 ca1e05                  JP      Z,MOVETO
   105   0000ab fe57                    CP      'W'
   106   0000ad ca3a05                  JP      Z,SCROLL
   107   0000b0 fe58                    CP      'X'
   108   0000b2 ca5605                  JP      Z,BRUSH_COLOR
   109   0000b5 fe59                    CP      'Y'
   110   0000b7 cac700                  JP      Z,MENU_PAGE_2
   111                          
   112                          
   113                          ; EXIT
   114   0000ba fe5a                    CP      'Z'
   115   0000bc cac200                  JP      Z,EXIT
   116   0000bf c30b00                  JP      MNULOOP
   117                          
   118                          EXIT:
   119                          ;
   120   0000c2 0e00                    LD      C,0
   121   0000c4 cd0500                  CALL    BDOS            ; return to CP/M via reset
   122                          
   123                          
   124                          MENU_PAGE_2:
   125                          
   126   0000c7 0e09                    LD      C,9
   127   0000c9 114e0c                  LD      DE,MENU2
   128   0000cc cd0500                  CALL    BDOS            ; PRINT OPENING MENU
   129                          
   130                          MNULOOP2:
   131   0000cf 0e01                    LD      C,1
   132   0000d1 cd0500                  CALL    BDOS            ; Get Menu Selection
   133                          
   134   0000d4 fe31                    CP      '1'
   135   0000d6 ca7d05                  JP      Z,LINE_ENDS
   136   0000d9 fe32                    CP      '2'
   137   0000db caa405                  JP      Z,PEN_COLOR
   138   0000de fe33                    CP      '3'
   139   0000e0 cacb05                  JP      Z,PEN_WIDTH
   140   0000e3 fe34                    CP      '4'
   141   0000e5 caf205                  JP      Z,SET_PIXEL
   142                          
   143   0000e8 fe5a                    CP      'Z'
   144   0000ea ca0300                  JP      Z,MENU_PAGE_1
   145   0000ed c3cf00                  JP      MNULOOP2
   146                          
   147                          VGA_SINGLE_CHAR:
   148   0000f0 3e01                    LD      A,1             ; SEND OPCODE 1 (OUT VGA CHAR)
   149   0000f2 cd0e06                  CALL    OUTESP0
   150   0000f5 3e2a                    LD      A,'*'           ; SEND CHAR TO OUTPUT
   151   0000f7 cd0e06                  CALL    OUTESP0
   152   0000fa c30b00                  JP      MNULOOP
   153                          
   154                          VGA_100SINGLE_CHAR:
   155   0000fd 0e64                    LD      c,100
   156                          VGA_100SINGLE_CHAR_1:
   157   0000ff 3e01                    LD      A,1             ; SEND OPCODE 1 (OUT VGA CHAR)
   158   000101 cd0e06                  CALL    OUTESP0
   159   000104 3e2a                    LD      A,'*'           ; SEND CHAR TO OUTPUT
   160   000106 cd0e06                  CALL    OUTESP0
   161   000109 0d                      DEC     c
   162   00010a c2ff00                  JP      nz,VGA_100SINGLE_CHAR_1
   163   00010d c30b00                  JP      MNULOOP
   164                          
   165                          VGA_OUT_STRING:
   166   000110 21ee12                  LD      HL,VGA_TEST
   167   000113 3e02                    LD      A,2             ; SEND OPCODE 2 (OUT VGA NULL TERM STRING)
   168   000115 cd0e06                  CALL    OUTESP0
   169                          VGA_OUT_STRING_1:
   170   000118 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   171   000119 cd0e06                  CALL    OUTESP0
   172   00011c 7e                      LD      A,(HL)          ; GET CHAR
   173   00011d 23                      INC     HL
   174   00011e fe00                    CP      0
   175   000120 c21801                  JP      nz,VGA_OUT_STRING_1
   176   000123 c30b00                  JP      MNULOOP
   177                          
   178                          
   179                          GET_KEY_IN:
   180   000126 cd3b06                  CALL    CLEARESP0
   181   000129 3e03                    LD      A,3             ; SEND OPCODE 3 (GET KEY IN)
   182   00012b cd0e06                  CALL    OUTESP0
   183   00012e cd2106                  CALL    INESP0_WAIT
   184   000131 cd6906                  CALL    prtchr
   185   000134 c30b00                  JP      MNULOOP
   186                          
   187                          
   188                          GET_KEY_CHARS_IN_BUFFER:
   189   000137 cd3b06                  CALL    CLEARESP0
   190   00013a 3e04                    LD      A,4             ; SEND OPCODE 4 (GET KEY BUFFER LENGTH)
   191   00013c cd0e06                  CALL    OUTESP0
   192   00013f cd2106                  CALL    INESP0_WAIT
   193   000142 cd5906                  CALL    prthex
   194   000145 c30b00                  JP      MNULOOP
   195                          
   196                          
   197                          SET_CURSOR:
   198   000148 0e09                    LD      C,9
   199   00014a 117513                  LD      DE,CURSOR_PROMPT
   200   00014d cd0500                  CALL    BDOS            ; PRINT PROMPT
   201   000150 0e01                    LD      C,1
   202   000152 cd0500                  CALL    BDOS            ; Get Selection
   203   000155 e601                    AND     1
   204   000157 f5                      PUSH    AF
   205   000158 3e05                    LD      A,5             ; SEND OPCODE 5 (SET CURSOR)
   206   00015a cd0e06                  CALL    OUTESP0
   207   00015d f1                      POP     AF
   208   00015e cd0e06                  CALL    OUTESP0
   209   000161 c30b00                  JP      MNULOOP
   210                          
   211                          
   212                          SET_BAUD:
   213   000164 0e09                    LD      C,9
   214   000166 119b13                  LD      DE,BAUD_PROMPT
   215   000169 cd0500                  CALL    BDOS            ; PRINT PROMPT
   216   00016c 0e0a                    LD      C,0AH
   217   00016e 115f19                  LD      DE,BUFFER
   218   000171 cd0500                  CALL    BDOS            ; GET INPUT
   219   000174 216119                  LD      HL,BUFFER+2
   220   000177 cd9006                  CALL    HEXBYTE
   221   00017a 324d19                  LD      (PARMS+2),A
   222   00017d cd9006                  CALL    HEXBYTE
   223   000180 324c19                  LD      (PARMS+1),A
   224   000183 cd9006                  CALL    HEXBYTE
   225   000186 324b19                  LD      (PARMS),A
   226                          
   227   000189 3e06                    LD      A,6             ; SEND OPCODE 6 (SET BAUD)
   228   00018b cd0e06                  CALL    OUTESP0
   229   00018e 3a4b19                  LD      A,(PARMS)
   230   000191 cd0e06                  CALL    OUTESP0
   231   000194 3a4c19                  LD      A,(PARMS+1)
   232   000197 cd0e06                  CALL    OUTESP0
   233   00019a 3a4d19                  LD      A,(PARMS+2)
   234   00019d cd0e06                  CALL    OUTESP0
   235   0001a0 3e00                    LD      A,0
   236   0001a2 cd0e06                  CALL    OUTESP0
   237   0001a5 c30b00                  JP      MNULOOP
   238                          
   239                          SET_MODE:
   240   0001a8 0e09                    LD      C,9
   241   0001aa 11e113                  LD      DE,MODE_PROMPT
   242   0001ad cd0500                  CALL    BDOS            ; PRINT PROMPT
   243   0001b0 0e01                    LD      C,1
   244   0001b2 cd0500                  CALL    BDOS            ; Get Selection
   245   0001b5 e607                    AND     7
   246   0001b7 f5                      PUSH    AF
   247   0001b8 3e07                    LD      A,7             ; SEND OPCODE 7 (SET MODE)
   248   0001ba cd0e06                  CALL    OUTESP0
   249   0001bd f1                      POP     AF
   250   0001be cd0e06                  CALL    OUTESP0
   251   0001c1 c30b00                  JP      MNULOOP
   252                          
   253                          
   254                          SERIAL_TX_CHAR:
   255   0001c4 3e08                    LD      A,8             ; SEND OPCODE 8 (TX CHAR)
   256   0001c6 cd0e06                  CALL    OUTESP0
   257   0001c9 3e2a                    LD      A,'*'
   258   0001cb cd0e06                  CALL    OUTESP0
   259   0001ce c30b00                  JP      MNULOOP
   260                          
   261                          
   262                          SERIAL_TX_STRING:
   263   0001d1 21bd13                  LD      HL,SERIAL_TEST
   264   0001d4 3e09                    LD      A,9             ; SEND OPCODE 9 (OUT SERIAL NULL TERM STRING)
   265   0001d6 cd0e06                  CALL    OUTESP0
   266                          SERIAL_TX_STRING_1:
   267   0001d9 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   268   0001da cd0e06                  CALL    OUTESP0
   269   0001dd 7e                      LD      A,(HL)          ; GET CHAR
   270   0001de 23                      INC     HL
   271   0001df fe00                    CP      0
   272   0001e1 c2d901                  JP      nz,SERIAL_TX_STRING_1
   273   0001e4 c30b00                  JP      MNULOOP
   274                          
   275                          
   276                          GET_SERIAL_IN:
   277   0001e7 cd3b06                  CALL    CLEARESP0
   278   0001ea 3e0a                    LD      A,10            ; SEND OPCODE 10 (GET SERIAL IN)
   279   0001ec cd0e06                  CALL    OUTESP0
   280   0001ef cd2106                  CALL    INESP0_WAIT
   281   0001f2 cd6906                  CALL    prtchr
   282   0001f5 c30b00                  JP      MNULOOP
   283                          
   284                          
   285                          GET_SERIAL_CHARS_IN_BUFFER:
   286   0001f8 cd3b06                  CALL    CLEARESP0
   287   0001fb 3e0b                    LD      A,11            ; SEND OPCODE 11 (GET SERIAL BUFFER LENGTH)
   288   0001fd cd0e06                  CALL    OUTESP0
   289   000200 cd2106                  CALL    INESP0_WAIT
   290   000203 cd5906                  CALL    prthex
   291   000206 c30b00                  JP      MNULOOP
   292                          
   293                          
   294                          PLAY_STRING:
   295   000209 21f214                  LD      HL,PLAY_TEST
   296   00020c 3e0c                    LD      A,12            ; SEND OPCODE 12 (PLAY SOUND STRING)
   297   00020e cd0e06                  CALL    OUTESP0
   298                          PLAY_STRING_1:
   299   000211 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   300   000212 cd0e06                  CALL    OUTESP0
   301   000215 7e                      LD      A,(HL)          ; GET CHAR
   302   000216 23                      INC     HL
   303   000217 fe00                    CP      0
   304   000219 c21102                  JP      nz,PLAY_STRING_1
   305   00021c c30b00                  JP      MNULOOP
   306                          
   307                          PLAY_SOUND:
   308   00021f 216515                  LD      HL,SOUND_TEST
   309   000222 3e0d                    LD      A,13            ; SEND OPCODE 13 (PLAY SOUND)
   310   000224 cd0e06                  CALL    OUTESP0
   311   000227 0e18                    LD      C,24
   312                          PLAY_SOUND_1:
   313   000229 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   314   00022a cd0e06                  CALL    OUTESP0
   315   00022d 7e                      LD      A,(HL)          ; GET CHAR
   316   00022e 23                      INC     HL
   317   00022f 0d                      DEC     C
   318   000230 c22902                  JP      nz,PLAY_SOUND_1
   319   000233 c30b00                  JP      MNULOOP
   320                          
   321                          SET_VOLUME:
   322   000236 3e0e                    LD      A,14            ; SEND OPCODE 14 (SET VOLUME)
   323   000238 cd0e06                  CALL    OUTESP0
   324   00023b 3e07                    LD      A,7
   325   00023d cd0e06                  CALL    OUTESP0
   326   000240 c30b00                  JP      MNULOOP
   327                          
   328                          
   329                          SET_RESOLUTION:
   330   000243 0e09                    LD      C,9
   331   000245 111d14                  LD      DE,RESOLUTION_PROMPT
   332   000248 cd0500                  CALL    BDOS            ; PRINT PROMPT
   333   00024b 0e0a                    LD      C,0AH
   334   00024d 115f19                  LD      DE,BUFFER
   335   000250 cd0500                  CALL    BDOS            ; GET INPUT
   336   000253 216119                  LD      HL,BUFFER+2
   337   000256 cd9006                  CALL    HEXBYTE
   338   000259 324b19                  LD      (PARMS),A
   339   00025c cd5906                  CALL    prthex
   340   00025f 3e0f                    LD      A,15            ; SEND OPCODE 15 (SET RESOLUTION)
   341   000261 cd0e06                  CALL    OUTESP0
   342   000264 3a4b19                  LD      A,(PARMS)
   343   000267 cd0e06                  CALL    OUTESP0
   344   00026a c30b00                  JP      MNULOOP
   345                          LOAD_FONT:
   346   00026d 0e09                    LD      C,9
   347   00026f 114714                  LD      DE,FONT_PROMPT
   348   000272 cd0500                  CALL    BDOS            ; PRINT PROMPT
   349   000275 0e0a                    LD      C,0AH
   350   000277 115f19                  LD      DE,BUFFER
   351   00027a cd0500                  CALL    BDOS            ; GET INPUT
   352   00027d 216119                  LD      HL,BUFFER+2
   353   000280 cd9006                  CALL    HEXBYTE
   354   000283 324b19                  LD      (PARMS),A
   355                          
   356   000286 3e10                    LD      A,16            ; SEND OPCODE 16 (SET FONT)
   357   000288 cd0e06                  CALL    OUTESP0
   358   00028b 3a4b19                  LD      A,(PARMS)
   359   00028e cd0e06                  CALL    OUTESP0
   360   000291 c30b00                  JP      MNULOOP
   361                          
   362                          CLEAR_SCREEN:
   363   000294 3e11                    LD      A,17            ; SEND OPCODE 17 (CLEAR SCREEN)
   364   000296 cd0e06                  CALL    OUTESP0
   365   000299 c30b00                  JP      MNULOOP
   366                          
   367                          COPY_RECT:
   368   00029c 3e12                    LD      A,18            ; SEND OPCODE 18 (COPY RECT)
   369   00029e cd0e06                  CALL    OUTESP0
   370   0002a1 3e0a                    LD      A,10            ; SEND X CORD 10
   371   0002a3 cd0e06                  CALL    OUTESP0
   372   0002a6 3e00                    LD      A,0
   373   0002a8 cd0e06                  CALL    OUTESP0
   374   0002ab 3e0a                    LD      A,10            ; SEND Y CORD 10
   375   0002ad cd0e06                  CALL    OUTESP0
   376   0002b0 3e00                    LD      A,0
   377   0002b2 cd0e06                  CALL    OUTESP0
   378   0002b5 3e64                    LD      A,100           ; SEND DEST X CORD 100
   379   0002b7 cd0e06                  CALL    OUTESP0
   380   0002ba 3e00                    LD      A,0
   381   0002bc cd0e06                  CALL    OUTESP0
   382   0002bf 3e64                    LD      A,100           ; SEND DEST Y CORD 100
   383   0002c1 cd0e06                  CALL    OUTESP0
   384   0002c4 3e00                    LD      A,0
   385   0002c6 cd0e06                  CALL    OUTESP0
   386   0002c9 3e19                    LD      A,25            ; SEND WIDTH 25
   387   0002cb cd0e06                  CALL    OUTESP0
   388   0002ce 3e00                    LD      A,0
   389   0002d0 cd0e06                  CALL    OUTESP0
   390   0002d3 3e19                    LD      A,25            ; SEND HEIGHT 25
   391   0002d5 cd0e06                  CALL    OUTESP0
   392   0002d8 3e00                    LD      A,0
   393   0002da cd0e06                  CALL    OUTESP0
   394   0002dd c30b00                  JP      MNULOOP
   395                          
   396                          
   397                          DRAW_BITMAP:
   398   0002e0 217d15                  LD      HL,BITMAP_TEST
   399   0002e3 3e13                    LD      A,19            ; SEND OPCODE 19 (DRAW BITMAP)
   400   0002e5 cd0e06                  CALL    OUTESP0
   401                          
   402   0002e8 3e7d                    LD      A,125           ; SEND X CORD 125
   403   0002ea cd0e06                  CALL    OUTESP0
   404   0002ed 3e00                    LD      A,0
   405   0002ef cd0e06                  CALL    OUTESP0
   406   0002f2 3e7d                    LD      A,125           ; SEND Y CORD 125
   407   0002f4 cd0e06                  CALL    OUTESP0
   408   0002f7 3e00                    LD      A,0
   409   0002f9 cd0e06                  CALL    OUTESP0
   410   0002fc 3e10                    LD      A,16            ; BITMAP WIDTH
   411   0002fe cd0e06                  CALL    OUTESP0
   412   000301 3e00                    LD      A,0
   413   000303 cd0e06                  CALL    OUTESP0
   414   000306 3e0f                    LD      A, 15           ; BITMAP HEIGHT
   415   000308 cd0e06                  CALL    OUTESP0
   416   00030b 3e00                    LD      A,0
   417   00030d cd0e06                  CALL    OUTESP0
   418   000310 3e04                    LD      A, 4            ; BITMAP FORMAT  FORMAT=RGBA8888
   419   000312 cd0e06                  CALL    OUTESP0
   420   000315 3ec0                    LD      A,0C0H          ; SEND BITMAP LENGTH (03C0)
   421   000317 cd0e06                  CALL    OUTESP0
   422   00031a 3e03                    LD      A,03H
   423   00031c cd0e06                  CALL    OUTESP0
   424   00031f 217d15                  LD      HL,BITMAP_TEST
   425   000322 113d19                  LD      DE,BITMAP_TEST_END
   426   000325 e5                      PUSH    HL
   427                          DRAW_BITMAP_1:
   428   000326 e1                      POP     HL
   429   000327 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   430   000328 cd0e06                  CALL    OUTESP0
   431   00032b 7e                      LD      A,(HL)          ; GET CHAR
   432   00032c 23                      INC     HL
   433   00032d e5                      PUSH    HL
   434   00032e b7                      OR      a               ; AT THE END?
   435   00032f ed52                    SBC     hl, de
   436   000331 19                      ADD     hl, de
   437   000332 c22603                  JP      nz,DRAW_BITMAP_1
   438   000335 e1                      POP     HL
   439   000336 c30b00                  JP      MNULOOP
   440                          
   441                          
   442                          DRAW_CHAR:
   443   000339 3e14                    LD      A,20            ; SEND OPCODE 20 (DRAW CHAR)
   444   00033b cd0e06                  CALL    OUTESP0
   445   00033e 3e78                    LD      A,120           ; SEND X CORD 120
   446   000340 cd0e06                  CALL    OUTESP0
   447   000343 3e00                    LD      A,0
   448   000345 cd0e06                  CALL    OUTESP0
   449   000348 3e78                    LD      A,120           ; SEND Y CORD 120
   450   00034a cd0e06                  CALL    OUTESP0
   451   00034d 3e00                    LD      A,0
   452   00034f cd0e06                  CALL    OUTESP0
   453   000352 3e24                    LD      A,'$'           ; SEND CHAR
   454   000354 cd0e06                  CALL    OUTESP0
   455   000357 3e1a                    LD      A,26            ; SEND FONTID
   456   000359 cd0e06                  CALL    OUTESP0
   457   00035c c30b00                  JP      MNULOOP
   458                          
   459                          
   460                          DRAW_ELLIPSE:
   461   00035f 3e15                    LD      A,21            ; SEND OPCODE 21 (DRAW ELLIPSE)
   462   000361 cd0e06                  CALL    OUTESP0
   463   000364 3e96                    LD      A,150           ; SEND X CORD 150
   464   000366 cd0e06                  CALL    OUTESP0
   465   000369 3e00                    LD      A,0
   466   00036b cd0e06                  CALL    OUTESP0
   467   00036e 3e96                    LD      A,150           ; SEND Y CORD 150
   468   000370 cd0e06                  CALL    OUTESP0
   469   000373 3e00                    LD      A,0
   470   000375 cd0e06                  CALL    OUTESP0
   471   000378 3e7d                    LD      A,125           ; SEND WIDTH 125
   472   00037a cd0e06                  CALL    OUTESP0
   473   00037d 3e00                    LD      A,0
   474   00037f cd0e06                  CALL    OUTESP0
   475   000382 3e7d                    LD      A,125           ; SEND HEIGHT 125
   476   000384 cd0e06                  CALL    OUTESP0
   477   000387 3e00                    LD      A,0
   478   000389 cd0e06                  CALL    OUTESP0
   479   00038c c30b00                  JP      MNULOOP
   480                          
   481                          
   482                          
   483                          
   484                          DRAW_GLYPH:
   485   00038f 3e16                    LD      A,22            ; SEND OPCODE 22 (DRAW GLYPH)
   486   000391 cd0e06                  CALL    OUTESP0
   487   000394 3eb4                    LD      A,180           ; SEND X CORD 180
   488   000396 cd0e06                  CALL    OUTESP0
   489   000399 3e00                    LD      A,0
   490   00039b cd0e06                  CALL    OUTESP0
   491   00039e 3eb4                    LD      A,180           ; SEND Y CORD 180
   492   0003a0 cd0e06                  CALL    OUTESP0
   493   0003a3 3e00                    LD      A,0
   494   0003a5 cd0e06                  CALL    OUTESP0
   495   0003a8 3e10                    LD      A,16            ; SEND WIDTH 16
   496   0003aa cd0e06                  CALL    OUTESP0
   497   0003ad 3e00                    LD      A,0
   498   0003af cd0e06                  CALL    OUTESP0
   499   0003b2 3e07                    LD      A,7             ; SEND HEIGHT 7
   500   0003b4 cd0e06                  CALL    OUTESP0
   501   0003b7 3e00                    LD      A,0
   502   0003b9 cd0e06                  CALL    OUTESP0
   503   0003bc 3e00                    LD      A,0             ; SEND INDEX
   504   0003be cd0e06                  CALL    OUTESP0
   505   0003c1 3e00                    LD      A,0
   506   0003c3 cd0e06                  CALL    OUTESP0
   507   0003c6 3e0e                    LD      A,14            ; SEND LENGTH 14
   508   0003c8 cd0e06                  CALL    OUTESP0
   509   0003cb 3e00                    LD      A,0
   510   0003cd cd0e06                  CALL    OUTESP0
   511                          
   512   0003d0 213d19                  LD      HL,GLYPH_TEST
   513   0003d3 0e0e                    LD      C,14
   514                          DRAW_GLYPH_1:
   515   0003d5 7e                      LD      A,(HL)          ; SEND CHAR TO OUTPUT
   516   0003d6 cd0e06                  CALL    OUTESP0
   517   0003d9 23                      INC     HL
   518   0003da 0d                      DEC     C
   519   0003db c2d503                  JP      nz,DRAW_GLYPH_1
   520   0003de c30b00                  JP      MNULOOP
   521                          
   522                          
   523                          
   524                          DRAW_LINE:
   525   0003e1 3e17                    LD      A,23            ; SEND OPCODE 23 (DRAW LINE)
   526   0003e3 cd0e06                  CALL    OUTESP0
   527   0003e6 3e32                    LD      A,50            ; SEND X CORD 50
   528   0003e8 cd0e06                  CALL    OUTESP0
   529   0003eb 3e00                    LD      A,0
   530   0003ed cd0e06                  CALL    OUTESP0
   531   0003f0 3e32                    LD      A,50            ; SEND Y CORD 50
   532   0003f2 cd0e06                  CALL    OUTESP0
   533   0003f5 3e00                    LD      A,0
   534   0003f7 cd0e06                  CALL    OUTESP0
   535   0003fa 3e7d                    LD      A,125           ; SEND TO X 125
   536   0003fc cd0e06                  CALL    OUTESP0
   537   0003ff 3e00                    LD      A,0
   538   000401 cd0e06                  CALL    OUTESP0
   539   000404 3e7d                    LD      A,125           ; SEND TO Y 125
   540   000406 cd0e06                  CALL    OUTESP0
   541   000409 3e00                    LD      A,0
   542   00040b cd0e06                  CALL    OUTESP0
   543   00040e c30b00                  JP      MNULOOP
   544                          
   545                          DRAW_RECTANGLE:
   546   000411 3e18                    LD      A,24            ; SEND OPCODE 24 (DRAW RECTANGLE)
   547   000413 cd0e06                  CALL    OUTESP0
   548   000416 3e32                    LD      A,50            ; SEND X CORD 50
   549   000418 cd0e06                  CALL    OUTESP0
   550   00041b 3e00                    LD      A,0
   551   00041d cd0e06                  CALL    OUTESP0
   552   000420 3e32                    LD      A,50            ; SEND Y CORD 50
   553   000422 cd0e06                  CALL    OUTESP0
   554   000425 3e00                    LD      A,0
   555   000427 cd0e06                  CALL    OUTESP0
   556   00042a 3e7d                    LD      A,125           ; SEND TO X 125
   557   00042c cd0e06                  CALL    OUTESP0
   558   00042f 3e00                    LD      A,0
   559   000431 cd0e06                  CALL    OUTESP0
   560   000434 3e7d                    LD      A,125           ; SEND TO Y 125
   561   000436 cd0e06                  CALL    OUTESP0
   562   000439 3e00                    LD      A,0
   563   00043b cd0e06                  CALL    OUTESP0
   564   00043e c30b00                  JP      MNULOOP
   565                          
   566                          DRAW_FILLED_ELLIPSE:
   567   000441 3e19                    LD      A,25            ; SEND OPCODE 25 (DRAW FILLED ELLIPSE)
   568   000443 cd0e06                  CALL    OUTESP0
   569   000446 3e96                    LD      A,150           ; SEND X CORD 150
   570   000448 cd0e06                  CALL    OUTESP0
   571   00044b 3e00                    LD      A,0
   572   00044d cd0e06                  CALL    OUTESP0
   573   000450 3e96                    LD      A,150           ; SEND Y CORD 150
   574   000452 cd0e06                  CALL    OUTESP0
   575   000455 3e00                    LD      A,0
   576   000457 cd0e06                  CALL    OUTESP0
   577   00045a 3e7d                    LD      A,125           ; SEND WIDTH 125
   578   00045c cd0e06                  CALL    OUTESP0
   579   00045f 3e00                    LD      A,0
   580   000461 cd0e06                  CALL    OUTESP0
   581   000464 3e7d                    LD      A,125           ; SEND HEIGHT 125
   582   000466 cd0e06                  CALL    OUTESP0
   583   000469 3e00                    LD      A,0
   584   00046b cd0e06                  CALL    OUTESP0
   585   00046e c30b00                  JP      MNULOOP
   586                          
   587                          DRAW_FILLED_RECTANGLE:
   588   000471 3e1a                    LD      A,26            ; SEND OPCODE 26 (DRAW FILLED RECTANGLE)
   589   000473 cd0e06                  CALL    OUTESP0
   590   000476 3e32                    LD      A,50            ; SEND X CORD 50
   591   000478 cd0e06                  CALL    OUTESP0
   592   00047b 3e00                    LD      A,0
   593   00047d cd0e06                  CALL    OUTESP0
   594   000480 3e32                    LD      A,50            ; SEND Y CORD 50
   595   000482 cd0e06                  CALL    OUTESP0
   596   000485 3e00                    LD      A,0
   597   000487 cd0e06                  CALL    OUTESP0
   598   00048a 3e7d                    LD      A,125           ; SEND TO X 125
   599   00048c cd0e06                  CALL    OUTESP0
   600   00048f 3e00                    LD      A,0
   601   000491 cd0e06                  CALL    OUTESP0
   602   000494 3e7d                    LD      A,125           ; SEND TO Y 125
   603   000496 cd0e06                  CALL    OUTESP0
   604   000499 3e00                    LD      A,0
   605   00049b cd0e06                  CALL    OUTESP0
   606   00049e c30b00                  JP      MNULOOP
   607                          
   608                          
   609                          
   610                          GET_PIXEL:
   611   0004a1 cd3b06                  CALL    CLEARESP0
   612   0004a4 3e1b                    LD      A,27            ; SEND OPCODE 27 (GET PIXEL)
   613   0004a6 cd0e06                  CALL    OUTESP0
   614   0004a9 3e32                    LD      A,50            ; SEND X CORD 50
   615   0004ab cd0e06                  CALL    OUTESP0
   616   0004ae 3e00                    LD      A,0
   617   0004b0 cd0e06                  CALL    OUTESP0
   618   0004b3 3e32                    LD      A,50            ; SEND Y CORD 50
   619   0004b5 cd0e06                  CALL    OUTESP0
   620   0004b8 3e00                    LD      A,0
   621   0004ba cd0e06                  CALL    OUTESP0
   622   0004bd cd2106                  CALL    INESP0_WAIT
   623   0004c0 cd5906                  CALL    prthex
   624   0004c3 cd2106                  CALL    INESP0_WAIT
   625   0004c6 cd5906                  CALL    prthex
   626   0004c9 cd2106                  CALL    INESP0_WAIT
   627   0004cc cd5906                  CALL    prthex
   628   0004cf c30b00                  JP      MNULOOP
   629                          
   630                          
   631                          INVERT_RECTANGLE:
   632   0004d2 3e1c                    LD      A,28            ; SEND OPCODE 28 (INVERT RECTANGLE)
   633   0004d4 cd0e06                  CALL    OUTESP0
   634   0004d7 3e32                    LD      A,50            ; SEND X CORD 50
   635   0004d9 cd0e06                  CALL    OUTESP0
   636   0004dc 3e00                    LD      A,0
   637   0004de cd0e06                  CALL    OUTESP0
   638   0004e1 3e32                    LD      A,50            ; SEND Y CORD 50
   639   0004e3 cd0e06                  CALL    OUTESP0
   640   0004e6 3e00                    LD      A,0
   641   0004e8 cd0e06                  CALL    OUTESP0
   642   0004eb 3e7d                    LD      A,125           ; SEND TO X 125
   643   0004ed cd0e06                  CALL    OUTESP0
   644   0004f0 3e00                    LD      A,0
   645   0004f2 cd0e06                  CALL    OUTESP0
   646   0004f5 3e7d                    LD      A,125           ; SEND TO Y 125
   647   0004f7 cd0e06                  CALL    OUTESP0
   648   0004fa 3e00                    LD      A,0
   649   0004fc cd0e06                  CALL    OUTESP0
   650   0004ff c30b00                  JP      MNULOOP
   651                          
   652                          
   653                          LINETO:
   654   000502 3e1d                    LD      A,29            ; SEND OPCODE 29 (LINETO)
   655   000504 cd0e06                  CALL    OUTESP0
   656   000507 3efa                    LD      A,250           ; SEND X CORD 250
   657   000509 cd0e06                  CALL    OUTESP0
   658   00050c 3e00                    LD      A,0
   659   00050e cd0e06                  CALL    OUTESP0
   660   000511 3efa                    LD      A,250           ; SEND Y CORD 250
   661   000513 cd0e06                  CALL    OUTESP0
   662   000516 3e00                    LD      A,0
   663   000518 cd0e06                  CALL    OUTESP0
   664   00051b c30b00                  JP      MNULOOP
   665                          
   666                          MOVETO:
   667   00051e 3e1e                    LD      A,30            ; SEND OPCODE 30 (MOVETO)
   668   000520 cd0e06                  CALL    OUTESP0
   669   000523 3e14                    LD      A,20            ; SEND X CORD 20
   670   000525 cd0e06                  CALL    OUTESP0
   671   000528 3e00                    LD      A,0
   672   00052a cd0e06                  CALL    OUTESP0
   673   00052d 3e14                    LD      A,20            ; SEND Y CORD 20
   674   00052f cd0e06                  CALL    OUTESP0
   675   000532 3e00                    LD      A,0
   676   000534 cd0e06                  CALL    OUTESP0
   677   000537 c30b00                  JP      MNULOOP
   678                          
   679                          SCROLL:
   680   00053a 3e1f                    LD      A,31            ; SEND OPCODE 31 (SCROLL)
   681   00053c cd0e06                  CALL    OUTESP0
   682   00053f 3e01                    LD      A,1             ; SEND X OFFSET 1
   683   000541 cd0e06                  CALL    OUTESP0
   684   000544 3e00                    LD      A,0
   685   000546 cd0e06                  CALL    OUTESP0
   686   000549 3e01                    LD      A,1             ; SEND Y OFFSET 1
   687   00054b cd0e06                  CALL    OUTESP0
   688   00054e 3e00                    LD      A,0
   689   000550 cd0e06                  CALL    OUTESP0
   690   000553 c30b00                  JP      MNULOOP
   691                          
   692                          
   693                          
   694                          BRUSH_COLOR:
   695   000556 0e09                    LD      C,9
   696   000558 116414                  LD      DE,BRUSH_PROMPT
   697   00055b cd0500                  CALL    BDOS            ; PRINT PROMPT
   698   00055e 0e0a                    LD      C,0AH
   699   000560 115f19                  LD      DE,BUFFER
   700   000563 cd0500                  CALL    BDOS            ; GET INPUT
   701   000566 216119                  LD      HL,BUFFER+2
   702   000569 cd9006                  CALL    HEXBYTE
   703   00056c 324b19                  LD      (PARMS),A
   704                          
   705   00056f 3e20                    LD      A,32            ; SEND OPCODE 32 (SET BRUSH COLOR)
   706   000571 cd0e06                  CALL    OUTESP0
   707   000574 3a4b19                  LD      A,(PARMS)
   708   000577 cd0e06                  CALL    OUTESP0
   709   00057a c30b00                  JP      MNULOOP
   710                          
   711                          LINE_ENDS:
   712   00057d 0e09                    LD      C,9
   713   00057f 118814                  LD      DE,LINE_ENDS_PROMPT
   714   000582 cd0500                  CALL    BDOS            ; PRINT PROMPT
   715   000585 0e0a                    LD      C,0AH
   716   000587 115f19                  LD      DE,BUFFER
   717   00058a cd0500                  CALL    BDOS            ; GET INPUT
   718   00058d 216119                  LD      HL,BUFFER+2
   719   000590 cd9006                  CALL    HEXBYTE
   720   000593 324b19                  LD      (PARMS),A
   721                          
   722   000596 3e21                    LD      A,33            ; SEND OPCODE 33 (SET LINE ENDS)
   723   000598 cd0e06                  CALL    OUTESP0
   724   00059b 3a4b19                  LD      A,(PARMS)
   725   00059e cd0e06                  CALL    OUTESP0
   726   0005a1 c3cf00                  JP      MNULOOP2
   727                          
   728                          PEN_COLOR:
   729   0005a4 0e09                    LD      C,9
   730   0005a6 11ae14                  LD      DE,PEN_PROMPT
   731   0005a9 cd0500                  CALL    BDOS            ; PRINT PROMPT
   732   0005ac 0e0a                    LD      C,0AH
   733   0005ae 115f19                  LD      DE,BUFFER
   734   0005b1 cd0500                  CALL    BDOS            ; GET INPUT
   735   0005b4 216119                  LD      HL,BUFFER+2
   736   0005b7 cd9006                  CALL    HEXBYTE
   737   0005ba 324b19                  LD      (PARMS),A
   738                          
   739   0005bd 3e22                    LD      A,34            ; SEND OPCODE 34 (SET PEN COLOR)
   740   0005bf cd0e06                  CALL    OUTESP0
   741   0005c2 3a4b19                  LD      A,(PARMS)
   742   0005c5 cd0e06                  CALL    OUTESP0
   743   0005c8 c3cf00                  JP      MNULOOP2
   744                          
   745                          PEN_WIDTH:
   746   0005cb 0e09                    LD      C,9
   747   0005cd 11d014                  LD      DE,PEN_WIDTH_PROMPT
   748   0005d0 cd0500                  CALL    BDOS            ; PRINT PROMPT
   749   0005d3 0e0a                    LD      C,0AH
   750   0005d5 115f19                  LD      DE,BUFFER
   751   0005d8 cd0500                  CALL    BDOS            ; GET INPUT
   752   0005db 216119                  LD      HL,BUFFER+2
   753   0005de cd9006                  CALL    HEXBYTE
   754   0005e1 324b19                  LD      (PARMS),A
   755                          
   756   0005e4 3e23                    LD      A,35            ; SEND OPCODE 35 (SET PEN WIDTH)
   757   0005e6 cd0e06                  CALL    OUTESP0
   758   0005e9 3a4b19                  LD      A,(PARMS)
   759   0005ec cd0e06                  CALL    OUTESP0
   760   0005ef c3cf00                  JP      MNULOOP2
   761                          
   762                          
   763                          SET_PIXEL:
   764   0005f2 3e24                    LD      A,36            ; SEND OPCODE 36 (SET PIXEL)
   765   0005f4 cd0e06                  CALL    OUTESP0
   766   0005f7 3e64                    LD      A,100           ; SEND X  100
   767   0005f9 cd0e06                  CALL    OUTESP0
   768   0005fc 3e00                    LD      A,0
   769   0005fe cd0e06                  CALL    OUTESP0
   770   000601 3e32                    LD      A,50            ; SEND Y  50
   771   000603 cd0e06                  CALL    OUTESP0
   772   000606 3e00                    LD      A,0
   773   000608 cd0e06                  CALL    OUTESP0
   774   00060b c3cf00                  JP      MNULOOP2
   775                          ;
   776                          ;
   777                          ;
   778                          ;
   779                          
   780                          
   781                          
   782                          ;
   783                          ;
   784                          ;
   785                          
   786                          ; SEND BYTE TO ESP0
   787                          OUTESP0:
   788   00060e f5                      PUSH    AF
   789                          OUTESP0_1:
   790   00060f db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   791   000611 e602                    AND     2               ; Is ESP0 BUSY?
   792   000613 c20f06                  JP      NZ,OUTESP0_1    ; IF BUSY WAIT (SHOULD HAVE TIMEOUT HERE)
   793   000616 f1                      POP     AF
   794   000617 d39c                    OUT     (ESP0),A        ; SEND BYTE
   795                          OUTESP0_2:
   796   000619 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   797   00061b e602                    AND     2               ; Is ESP0 BUSY?
   798   00061d ca1906                  JP      Z,OUTESP0_2     ; IF NOT BUSY WAIT (SHOULD HAVE TIMEOUT HERE)
   799   000620 c9                      RET
   800                          
   801                          
   802                          ; GET BYTE FROM ESP0 (BLOCKING)
   803                          INESP0_WAIT:
   804                          INESP0_WAIT_1:
   805   000621 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   806   000623 e602                    AND     2               ; Is ESP0 BUSY?
   807   000625 c22106                  JP      NZ,INESP0_WAIT_1; IF BUSY, WAIT (SHOULD HAVE TIMEOUT HERE)
   808   000628 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   809   00062a e601                    AND     1               ; Is there data?
   810   00062c ca2106                  JP      Z,INESP0_WAIT_1 ; IF NO, BUSY WAIT
   811   00062f db9c                    IN      A,(ESP0)        ; GET BYTE
   812   000631 f5                      PUSH    AF
   813                          INESP0_WAIT_2:
   814   000632 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   815   000634 e602                    AND     2               ; Is ESP0 BUSY?
   816   000636 ca3206                  JP      Z,INESP0_WAIT_2 ; IF NOT BUSY WAIT (SHOULD HAVE TIMEOUT HERE)
   817   000639 f1                      POP     AF
   818   00063a c9                      RET
   819                          
   820                          ; CLEAR ESP0 INPUT BYTE QUEUE
   821                          CLEARESP0:
   822   00063b cd4606                  CALL    INESP0
   823   00063e db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   824   000640 e601                    AND     1               ; Is there MORE data?
   825   000642 c23b06                  JP      NZ,CLEARESP0    ; IF YES, LOOP
   826   000645 c9                      RET
   827                          
   828                          ; GET BYTE FROM ESP0 (NON BLOCKING)
   829                          INESP0:
   830   000646 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   831   000648 e602                    AND     2               ; Is ESP0 BUSY?
   832   00064a c24606                  JP      NZ,INESP0       ; IF BUSY, WAIT (SHOULD HAVE TIMEOUT HERE)
   833   00064d db9c                    IN      A,(ESP0)        ; GET BYTE
   834   00064f f5                      PUSH    AF
   835                          INESP0_1:
   836   000650 db9e                    IN      A,(ESP_STATUS)  ; GET STATUS
   837   000652 e602                    AND     2               ; Is ESP0 BUSY?
   838   000654 ca5006                  JP      Z,INESP0_1      ; IF NOT BUSY WAIT (SHOULD HAVE TIMEOUT HERE)
   839   000657 f1                      POP     AF
   840   000658 c9                      RET
   841                          
   842                          
   843                          ;
   844                          ;
   845                          ;
   846                          ;
   847                          ;
   848                          ;
   849                          prthex:
   850   000659 f5                      PUSH    af              ; save AF
   851   00065a d5                      PUSH    de              ; save DE
   852   00065b cd7806                  CALL    hexascii        ; convert value in A to hex chars in DE
   853   00065e 7a                      LD      a,d             ; get the high order hex char
   854   00065f cd6906                  CALL    prtchr          ; print it
   855   000662 7b                      LD      a,e             ; get the low order hex char
   856   000663 cd6906                  CALL    prtchr          ; print it
   857   000666 d1                      POP     de              ; restore DE
   858   000667 f1                      POP     af              ; restore AF
   859   000668 c9                      RET                     ; done
   860                          prtchr:
   861   000669 f5                      PUSH    AF
   862   00066a c5                      PUSH    bc              ; save registers
   863   00066b d5                      PUSH    de
   864   00066c e5                      PUSH    hl
   865   00066d 5f                      LD      E,A
   866   00066e 0e02                    LD      C,2
   867   000670 cd0500                  CALL    BDOS            ; return to CP/M via reset
   868   000673 e1                      POP     hl              ; restore registers
   869   000674 d1                      POP     de
   870   000675 c1                      POP     bc
   871   000676 f1                      POP     AF
   872   000677 c9                      RET
   873                          ;
   874                          ; Convert binary value in A to ascii hex characters in DE
   875                          ;
   876                          hexascii:
   877   000678 57                      LD      d,a             ; save A in D
   878   000679 cd8706                  CALL    hexconv         ; convert low nibble of A to hex
   879   00067c 5f                      LD      e,a             ; save it in E
   880   00067d 7a                      LD      a,d             ; get original value back
   881   00067e 07                      RLCA                    ; rotate high order nibble to low bits
   882   00067f 07                      RLCA
   883   000680 07                      RLCA
   884   000681 07                      RLCA
   885   000682 cd8706                  CALL    hexconv         ; convert nibble
   886   000685 57                      LD      d,a             ; save it in D
   887   000686 c9                      RET                     ; done
   888                          ;
   889                          ; Convert low nibble of A to ascii hex
   890                          ;
   891                          hexconv:
   892   000687 e60f                    AND     $0F             ; low nibble only
   893   000689 c690                    ADD     a,$90
   894   00068b 27                      DAA
   895   00068c ce40                    ADC     a,$40
   896   00068e 27                      DAA
   897   00068f c9                      RET
   898                          ;
   899                          
   900                          ;
   901                          ;__HEXBYTE____________________________________________________________________
   902                          ;
   903                          ;	GET ONE BYTE OF HEX DATA FROM BUFFER IN HL, RETURN IN A
   904                          ;_____________________________________________________________________________
   905                          ;
   906                          HEXBYTE:
   907   000690 cda106                  CALL    NIBL            ; CONVERT HEX CHAR TO BINARY VALUE IN A & INC HL
   908   000693 cb27                    SLA     A
   909   000695 cb27                    SLA     A
   910   000697 cb27                    SLA     A
   911   000699 cb27                    SLA     A
   912   00069b 4f                      LD      C,A
   913   00069c cda106                  CALL    NIBL            ; CONVERT HEX CHAR TO BINARY VALUE IN A & INC HL
   914   00069f b1                      OR      C               ; COMBINE WITH WORKING VALUE
   915   0006a0 c9                      RET                     ; AND DONE
   916                          ;
   917                          ;
   918                          ;__NIBL_______________________________________________________________________
   919                          ;
   920                          ;	GET ONE BYTE OF HEX DATA FROM BUFFER IN HL, RETURN IN A
   921                          ;_____________________________________________________________________________
   922                          ;
   923                          NIBL:
   924   0006a1 7e                      LD      A,(HL)          ; GET K B. DATA
   925   0006a2 23                      INC     HL              ; INC KB POINTER
   926   0006a3 fe40                    CP      40H             ; TEST FOR ALPHA
   927   0006a5 3003                    JR      NC,ALPH
   928   0006a7 e60f                    AND     0FH             ; GET THE BITS
   929   0006a9 c9                      RET
   930                          ALPH:
   931   0006aa e60f                    AND     0FH             ; GET THE BITS
   932   0006ac c609                    ADD     A,09H           ; MAKE IT HEX A-F
   933   0006ae c9                      RET
   934                          ;
   935                          ;
   936                          ;
   937                          MENU:
   938   0006af 0a0d                    DB      0AH,0DH
   939   0006b1 2020202020202020        DM      "                            Nhodyne ESP32 IO board test"
                2020202020202020
                2020202020202020
                202020204e686f64
                796e652045535033
                3220494f20626f61
                72642074657374  
   940   0006e8 0a0d0a0d0a0d            DB      0AH,0DH,0AH,0DH,0AH,0DH
   941                          ;                12345678901234567890123456789012345678901234567890123456789012345678901234567890
   942   0006ee 313e204f75747075        DM      "1> Output single char to VGA                  J.  COPY RECT                    "
                742073696e676c65
                206368617220746f
                2056474120202020
                2020202020202020
                2020202020204a2e
                2020434f50592052
                4543542020202020
                2020202020202020
                20202020202020  
   943   00073d 0a0d                    DB      0AH,0DH
   944   00073f 323e204f75747075        DM      "2> Output 100 single chars to VGA             K.  DRAW BITMAP                  "
                7420313030207369
                6e676c6520636861
                727320746f205647
                4120202020202020
                2020202020204b2e
                2020445241572042
                49544d4150202020
                2020202020202020
                20202020202020  
   945   00078e 0a0d                    DB      0AH,0DH
   946   000790 333e204f75747075        DM      "3> Output string to VGA                       L.  DRAW CHAR                    "
                7420737472696e67
                20746f2056474120
                2020202020202020
                2020202020202020
                2020202020204c2e
                2020445241572043
                4841522020202020
                2020202020202020
                20202020202020  
   947   0007df 0a0d                    DB      0AH,0DH
   948   0007e1 343e20476574204b        DM      "4> Get Keystroke                              M.  DRAW ELLIPSE                 "
                65797374726f6b65
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020204d2e
                2020445241572045
                4c4c495053452020
                2020202020202020
                20202020202020  
   949   000830 0a0d                    DB      0AH,0DH
   950   000832 353e20476574204b        DM      "5> Get Key Buffer Length                      N.  DRAW GLYPH                   "
                6579204275666665
                72204c656e677468
                2020202020202020
                2020202020202020
                2020202020204e2e
                2020445241572047
                4c59504820202020
                2020202020202020
                20202020202020  
   951   000881 0a0d                    DB      0AH,0DH
   952   000883 363e205365742043        DM      "6> Set Cursor visibility                      O.  DRAW LINE                    "
                7572736f72207669
                736962696c697479
                2020202020202020
                2020202020202020
                2020202020204f2e
                202044524157204c
                494e452020202020
                2020202020202020
                20202020202020  
   953   0008d2 0a0d                    DB      0AH,0DH
   954   0008d4 2020202020202020        DM      "                                              P.  DRAW RECTANGLE               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020502e
                2020445241572052
                454354414e474c45
                2020202020202020
                20202020202020  
   955   000923 0a0d                    DB      0AH,0DH
   956   000925 373e205365742073        DM      "7> Set serial baud rate                       Q.  FILL ELLIPSE                 "
                657269616c206261
                7564207261746520
                2020202020202020
                2020202020202020
                202020202020512e
                202046494c4c2045
                4c4c495053452020
                2020202020202020
                20202020202020  
   957   000974 0a0d                    DB      0AH,0DH
   958   000976 383e205365742073        DM      "8> Set serial mode                            R.  FILL RECTANGLE               "
                657269616c206d6f
                6465202020202020
                2020202020202020
                2020202020202020
                202020202020522e
                202046494c4c2052
                454354414e474c45
                2020202020202020
                20202020202020  
   959   0009c5 0a0d                    DB      0AH,0DH
   960   0009c7 393e205365726961        DM      "9> Serial TX single char                      S.  GET PIXEL                    "
                6c2054582073696e
                676c652063686172
                2020202020202020
                2020202020202020
                202020202020532e
                2020474554205049
                58454c2020202020
                2020202020202020
                20202020202020  
   961   000a16 0a0d                    DB      0AH,0DH
   962   000a18 413e205365726961        DM      "A> Serial TX string                           T.  INVERT RECTANGLE             "
                6c20545820737472
                696e672020202020
                2020202020202020
                2020202020202020
                202020202020542e
                2020494e56455254
                2052454354414e47
                4c45202020202020
                20202020202020  
   963   000a67 0a0d                    DB      0AH,0DH
   964   000a69 423e205365726961        DM      "B> Serial RX                                  U.  LINE TO                      "
                6c20525820202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020552e
                20204c494e452054
                4f20202020202020
                2020202020202020
                20202020202020  
   965   000ab8 0a0d                    DB      0AH,0DH
   966   000aba 433e205365726961        DM      "C> Serial Buffer Length                       V.  MOVE TO                      "
                6c20427566666572
                204c656e67746820
                2020202020202020
                2020202020202020
                202020202020562e
                20204d4f56452054
                4f20202020202020
                2020202020202020
                20202020202020  
   967   000b09 0a0d                    DB      0AH,0DH
   968   000b0b 2020202020202020        DM      "                                              W.  SCROLL                       "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020572e
                20205343524f4c4c
                2020202020202020
                2020202020202020
                20202020202020  
   969   000b5a 0a0d                    DB      0AH,0DH
   970   000b5c 443e20506c617920        DM      "D> Play String                                X.  SET BRUSH COLOR              "
                537472696e672020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020582e
                2020534554204252
                55534820434f4c4f
                5220202020202020
                20202020202020  
   971   000bab 0a0d                    DB      0AH,0DH
   972   000bad 453e20506c617920        DM      "E> Play Sound                                 Y.  MENU PAGE TWO                "
                536f756e64202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020592e
                20204d454e552050
                4147452054574f20
                2020202020202020
                20202020202020  
   973   000bfc 0a0d                    DB      0AH,0DH
   974   000bfe 463e205365742056        DM      "F> Set Volume"
                6f6c756d65      
   975   000c0b 0a0d                    DB      0AH,0DH
   976   000c0d 0a0d                    DB      0AH,0DH
   977   000c0f 473e205365742052        DM      "G> Set Resolution"
                65736f6c7574696f
                6e              
   978   000c20 0a0d                    DB      0AH,0DH
   979   000c22 483e204c6f616420        DM      "H> Load Font"
                466f6e74        
   980   000c2e 0a0d                    DB      0AH,0DH
   981   000c30 493e20436c656172        DM      "I> Clear"
   982   000c38 0a0d                    DB      0AH,0DH
   983                          
   984   000c3a 0a0d                    DB      0AH,0DH
   985   000c3c 5a3e204578697420        DM      "Z> Exit Program"
                50726f6772616d  
   986   000c4b 0a0d                    DB      0AH,0DH
   987                          
   988   000c4d 24                      DM      "$"
   989                          
   990                          
   991                          MENU2:
   992   000c4e 0a0d                    DB      0AH,0DH
   993   000c50 2020202020202020        DM      "                       Nhodyne ESP32 IO board test PAGE 2"
                2020202020202020
                202020202020204e
                686f64796e652045
                5350333220494f20
                626f617264207465
                7374205041474520
                32              
   994   000c89 0a0d0a0d0a0d            DB      0AH,0DH,0AH,0DH,0AH,0DH
   995                          ;                12345678901234567890123456789012345678901234567890123456789012345678901234567890
   996   000c8f 313e202053455420        DM      "1>  SET LINE END TYPE                         L.                               "
                4c494e4520454e44
                2054595045202020
                2020202020202020
                2020202020202020
                2020202020204c2e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
   997   000cde 0a0d                    DB      0AH,0DH
   998   000ce0 323e202053455420        DM      "2>  SET PEN COLOR                             M.                               "
                50454e20434f4c4f
                5220202020202020
                2020202020202020
                2020202020202020
                2020202020204d2e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
   999   000d2f 0a0d                    DB      0AH,0DH
  1000   000d31 333e202053455420        DM      "3>  SET PEN WIDTH                             N.                               "
                50454e2057494454
                4820202020202020
                2020202020202020
                2020202020202020
                2020202020204e2e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1001   000d80 0a0d                    DB      0AH,0DH
  1002   000d82 343e202053455420        DM      "4>  SET PIXEL                                 O.                               "
                504958454c202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020204f2e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1003   000dd1 0a0d                    DB      0AH,0DH
  1004   000dd3 353e202020202020        DM      "5>                                            P.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020502e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1005   000e22 0a0d                    DB      0AH,0DH
  1006   000e24 363e202020202020        DM      "6>                                            Q.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020512e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1007   000e73 0a0d                    DB      0AH,0DH
  1008   000e75 373e202020202020        DM      "7>                                            R.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020522e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1009   000ec4 0a0d                    DB      0AH,0DH
  1010   000ec6 383e202020202020        DM      "8>                                            S.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020532e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1011   000f15 0a0d                    DB      0AH,0DH
  1012   000f17 393e202020202020        DM      "9>                                            T.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020542e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1013   000f66 0a0d                    DB      0AH,0DH
  1014   000f68 413e202020202020        DM      "A>                                            U.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020552e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1015   000fb7 0a0d                    DB      0AH,0DH
  1016   000fb9 423e202020202020        DM      "B>                                            V.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020562e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1017   001008 0a0d                    DB      0AH,0DH
  1018   00100a 433e202020202020        DM      "C>                                            W.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020572e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1019   001059 0a0d                    DB      0AH,0DH
  1020   00105b 443e202020202020        DM      "D>                                            X.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020582e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1021   0010aa 0a0d                    DB      0AH,0DH
  1022   0010ac 453e202020202020        DM      "E>                                            Y.                               "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                202020202020592e
                2020202020202020
                2020202020202020
                2020202020202020
                20202020202020  
  1023   0010fb 0a0d                    DB      0AH,0DH
  1024   0010fd 463e202020202020        DM      "F>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1025   00114a 0a0d                    DB      0AH,0DH
  1026   00114c 473e202020202020        DM      "G>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1027   001199 0a0d                    DB      0AH,0DH
  1028   00119b 483e202020202020        DM      "H>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1029   0011e8 0a0d                    DB      0AH,0DH
  1030   0011ea 0a0d                    DB      0AH,0DH
  1031   0011ec 493e202020202020        DM      "I>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1032   001239 0a0d                    DB      0AH,0DH
  1033   00123b 4a3e202020202020        DM      "J>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1034   001288 0a0d                    DB      0AH,0DH
  1035   00128a 4b3e202020202020        DM      "K>                                                                           "
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020202020
                2020202020      
  1036   0012d7 0a0d                    DB      0AH,0DH
  1037   0012d9 0a0d                    DB      0AH,0DH
  1038   0012db 5a3e204d454e5520        DM      "Z> MENU PAGE ONE"
                50414745204f4e45
  1039   0012eb 0a0d                    DB      0AH,0DH
  1040                          
  1041   0012ed 24                      DM      "$"
  1042                          
  1043                          
  1044                          VGA_TEST:
  1045   0012ee 0a0d                    DB      0AH,0DH
  1046   0012f0 1b5b34303b33316d        DM      27,"[40;31mH",27,"[40;32mI ",27,"[40;33mF",27,"[40;34mR"
                481b5b34303b3332
                6d49201b5b34303b
                33336d461b5b3430
                3b33346d52      
  1047   001315 1b5b34303b33356d        DM      27,"[40;35mOM ",27,"[40;36mN",27,"[40;37mH",27,"[40;91mY"
                4f4d201b5b34303b
                33366d4e1b5b3430
                3b33376d481b5b34
                303b39316d59    
  1048   00133b 1b5b34303b39326d        DM      27,"[40;92mO",27,"[40;93mD",27,"[40;94mY",27,"[40;95mN"
                4f1b5b34303b3933
                6d441b5b34303b39
                346d591b5b34303b
                39356d4e        
  1049   00135f 1b5b34303b39366d        DM      27,"[40;96mE ",27,"[40;97m."
                45201b5b34303b39
                376d2e          
  1050   001372 0a0d00                  DB      0AH,0DH,00H
  1051                          
  1052                          
  1053                          CURSOR_PROMPT:
  1054   001375 0a0d                    DB      0AH,0DH
  1055   001377 303e44495341424c        DM      "0>DISABLE CURSOR"
                4520435552534f52
  1056   001387 0a0d                    DB      0AH,0DH
  1057   001389 313e454e41424c45        DM      "1>ENABLE CURSOR"
                20435552534f52  
  1058   001398 0a0d                    DB      0AH,0DH
  1059   00139a 24                      DM      "$"
  1060                          
  1061                          BAUD_PROMPT:
  1062   00139b 0a0d                    DB      0AH,0DH
  1063   00139d 454e544552204241        DM      "ENTER BAUD RATE (6 DIGITS HEX):"
                5544205241544520
                2836204449474954
                5320484558293a  
  1064   0013bc 24                      DM      "$"
  1065                          
  1066                          SERIAL_TEST:
  1067   0013bd 0a0d                    DB      0AH,0DH
  1068   0013bf 5355434345535346        DM      "SUCCESSFUL SERIAL STRING WRITE."
                554c205345524941
                4c20535452494e47
                2057524954452e  
  1069   0013de 0a0d00                  DB      0AH,0DH,00H
  1070                          
  1071                          MODE_PROMPT:
  1072   0013e1 0a0d                    DB      0AH,0DH
  1073   0013e3 454e544552205345        DM      "ENTER SERIAL MODE: (8n1=0,8e1=1,8o1=2,7n1=3,7e1=4,7o1=5):"
                5249414c204d4f44
                453a2028386e313d
                302c3865313d312c
                386f313d322c376e
                313d332c3765313d
                342c376f313d3529
                3a              
  1074   00141c 24                      DM      "$"
  1075                          
  1076                          RESOLUTION_PROMPT:
  1077   00141d 0a0d                    DB      0AH,0DH
  1078   00141f 454e544552205343        DM      "ENTER SCREEN RESOLUTION (2 DIGITS HEX):"
                5245454e20524553
                4f4c5554494f4e20
                2832204449474954
                5320484558293a  
  1079   001446 24                      DM      "$"
  1080                          FONT_PROMPT:
  1081   001447 0a0d                    DB      0AH,0DH
  1082   001449 454e54455220464f        DM      "ENTER FONT (2 DIGITS HEX):"
                4e54202832204449
                4749545320484558
                293a            
  1083   001463 24                      DM      "$"
  1084                          
  1085                          BRUSH_PROMPT:
  1086   001464 0a0d                    DB      0AH,0DH
  1087   001466 454e544552204252        DM      "ENTER BRUSH COLOR (2 DIGITS HEX):"
                55534820434f4c4f
                5220283220444947
                4954532048455829
                3a              
  1088   001487 24                      DM      "$"
  1089                          
  1090                          LINE_ENDS_PROMPT:
  1091   001488 0a0d                    DB      0AH,0DH
  1092   00148a 454e544552204c49        DM      "ENTER LINE END TYPE (2 DIGITS HEX):"
                4e4520454e442054
                5950452028322044
                4947495453204845
                58293a          
  1093   0014ad 24                      DM      "$"
  1094                          
  1095                          PEN_PROMPT:
  1096   0014ae 0a0d                    DB      0AH,0DH
  1097   0014b0 454e544552205045        DM      "ENTER PEN COLOR (2 DIGITS HEX):"
                4e20434f4c4f5220
                2832204449474954
                5320484558293a  
  1098   0014cf 24                      DM      "$"
  1099                          
  1100                          PEN_WIDTH_PROMPT:
  1101   0014d0 0a0d                    DB      0AH,0DH
  1102   0014d2 454e544552205045        DM      "ENTER PEN WIDTH (2 DIGITS HEX):"
                4e20574944544820
                2832204449474954
                5320484558293a  
  1103   0014f1 24                      DM      "$"
  1104                          
  1105                          
  1106                          PLAY_TEST:
  1107   0014f2 4134203420322041        DM      "A4 4 2 A4 4 2 A#4 4 2 C5 4 2 C5 4 2 A#4 4 2 A4 4 2 G4 4 2 F4 4 2 F4 4 2 G4 4 2 A4 4 2 A4 2 2 G4 16 2 G4 2 2 P 8 2 "
                3420342032204123
                3420342032204335
                2034203220433520
                3420322041233420
                3420322041342034
                2032204734203420
                3220463420342032
                2046342034203220
                4734203420322041
                3420342032204134
                2032203220473420
                3136203220473420
                3220322050203820
                3220            
  1108   001564 00                      DB      00
  1109                          SOUND_TEST:
  1110   001565 0500000080000000        DB      5,0,0,0, 128,0,0,0 ,120,0, 0,1,0,0 ,4, 127, 0 ,0, 2 ,1, 0  ,1, 0 ,0
                780000010000047f
                0000020100010000
  1111                          
  1112                          
  1113                          BITMAP_TEST:                    ;   RGBA, 8 bits per channel. Four bytes contains one pixel. -- LOOKS BEST IN A 64 COLOR MODE!
  1114   00157d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 00
                0000000000000000
  1115   00158d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff; // 10
                000000ff000000ff
  1116   00159d 000000ff00000000        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 20
                0000000000000000
  1117   0015ad 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 30
                0000000000000000
  1118   0015bd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 40
                0000000000000000
  1119   0015cd 000000ffb7b5ccff        DB      0x00, 0x00, 0x00, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff; // 50
                000000ff805e4dff
  1120   0015dd 000000ff00000000        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 60
                0000000000000000
  1121   0015ed 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 70
                0000000000000000
  1122   0015fd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 80
                0000000000000000
  1123   00160d 000000ffb7b5ccff        DB      0x00, 0x00, 0x00, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x00, 0x00, 0x00, 0xff; // 90
                9c9abaff000000ff
  1124   00161d 000000ff00000000        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // A0
                0000000000000000
  1125   00162d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // B0
                0000000000000000
  1126   00163d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // C0
                0000000000000000
  1127   00164d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff; // D0
                9c9abaff9c9abaff
  1128   00165d b7b5ccff000000ff        DB      0xb7, 0xb5, 0xcc, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff; // E0
                000000ff000000ff
  1129   00166d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff; // F0
                000000ff000000ff
  1130   00167d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 100
                0000000000000000
  1131   00168d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff; // 110
                000000ff000000ff
  1132   00169d 9c9abaff9c9abaff        DB      0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0xb7, 0xb5, 0xcc, 0xff; // 120
                b7b5ccffb7b5ccff
  1133   0016ad 000000ff000000ff        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff; // 130
                dcdbe6ff000000ff
  1134   0016bd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 140
                0000000000000000
  1135   0016cd 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff, 0x00, 0x00, 0x00, 0xff; // 150
                805e4dff000000ff
  1136   0016dd 000000ffb7b5ccff        DB      0x00, 0x00, 0x00, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff; // 160
                9c9abaff9c9abaff
  1137   0016ed b7b5ccffb7b5ccff        DB      0xb7, 0xb5, 0xcc, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff; // 170
                dcdbe6ff000000ff
  1138   0016fd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 180
                0000000000000000
  1139   00170d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff, 0x00, 0x00, 0x00, 0xff; // 190
                805e4dff000000ff
  1140   00171d 000000ff000000ff        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff; // 1A0
                9c9abaff9c9abaff
  1141   00172d 9c9abaffb7b5ccff        DB      0x9c, 0x9a, 0xba, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff; // 1B0
                dcdbe6ff000000ff
  1142   00173d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 1C0
                0000000000000000
  1143   00174d 000000ff805e4dff        DB      0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff; // 1D0
                3f2c16ff000000ff
  1144   00175d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff; // 1E0
                9c9abaff9c9abaff
  1145   00176d 9c9abaffdcdbe6ff        DB      0x9c, 0x9a, 0xba, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 1F0
                000000ff00000000
  1146   00177d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 200
                0000000000000000
  1147   00178d 000000ff3f2c16ff        DB      0x00, 0x00, 0x00, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 210
                000000ff00000000
  1148   00179d 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x9c, 0x9a, 0xba, 0xff, 0x9c, 0x9a, 0xba, 0xff; // 220
                9c9abaff9c9abaff
  1149   0017ad b7b5ccffdcdbe6ff        DB      0xb7, 0xb5, 0xcc, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 230
                000000ff00000000
  1150   0017bd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff; // 240
                00000000000000ff
  1151   0017cd 805e4dff3f2c16ff        DB      0x80, 0x5e, 0x4d, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 250
                000000ff00000000
  1152   0017dd 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xb7, 0xb5, 0xcc, 0xff, 0xb7, 0xb5, 0xcc, 0xff; // 260
                b7b5ccffb7b5ccff
  1153   0017ed dcdbe6ff000000ff        DB      0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 270
                0000000000000000
  1154   0017fd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff; // 280
                00000000000000ff
  1155   00180d 805e4dff3f2c16ff        DB      0x80, 0x5e, 0x4d, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 290
                000000ff00000000
  1156   00181d 000000ffdcdbe6ff        DB      0x00, 0x00, 0x00, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0xdc, 0xdb, 0xe6, 0xff; // 2A0
                dcdbe6ffdcdbe6ff
  1157   00182d 000000ff00000000        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 2B0
                0000000000000000
  1158   00183d 000000ff000000ff        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff; // 2C0
                000000ff805e4dff
  1159   00184d 3f2c16ff000000ff        DB      0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 2D0
                0000000000000000
  1160   00185d 000000ffdcdbe6ff        DB      0x00, 0x00, 0x00, 0xff, 0xdc, 0xdb, 0xe6, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff; // 2E0
                000000ff000000ff
  1161   00186d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 2F0
                0000000000000000
  1162   00187d 000000ff805e4dff        DB      0x00, 0x00, 0x00, 0xff, 0x80, 0x5e, 0x4d, 0xff, 0x80, 0x5e, 0x4d, 0xff, 0x3f, 0x2c, 0x16, 0xff; // 300
                805e4dff3f2c16ff
  1163   00188d 000000ff00000000        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 310
                0000000000000000
  1164   00189d 000000ff000000ff        DB      0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 320
                0000000000000000
  1165   0018ad 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 330
                0000000000000000
  1166   0018bd 000000ff3f2c16ff        DB      0x00, 0x00, 0x00, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x3f, 0x2c, 0x16, 0xff, 0x00, 0x00, 0x00, 0xff; // 340
                3f2c16ff000000ff
  1167   0018cd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 350
                0000000000000000
  1168   0018dd 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 360
                0000000000000000
  1169   0018ed 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 370
                0000000000000000
  1170   0018fd 00000000000000ff        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00; // 380
                000000ff00000000
  1171   00190d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 390
                0000000000000000
  1172   00191d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 3A0
                0000000000000000
  1173   00192d 0000000000000000        DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00; // 3B0
                0000000000000000
  1174                          BITMAP_TEST_END:
  1175                          
  1176                          GLYPH_TEST:
  1177   00193d 07e01ff83ffc6db6        DB      0x07, 0xe0, 0x1f, 0xf8, 0x3f, 0xfc, 0x6d, 0xb6, 0xff, 0xff, 0x39, 0x9c, 0x10, 0x08
                ffff399c1008    
  1178                          
  1179                          
  1180                          
  1181                          
  1182                          PARMS:
  1183   00194b 0000000000000000        DB      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                0000000000000000
                00000000        
  1184                          BUFFER:
  1185   00195f 1400000000000000        DB      20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                0000000000000000
                00000000        
  1186                          
  1187                                  .END
  1188                          
